<?php

declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20210312123600 extends AbstractMigration
{
    public function getDescription() : string
    {
        return '';
    }

    public function up(Schema $schema) : void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->addSql('DROP INDEX IDX_8FE49CC5A76ED395');
        $this->addSql('DROP INDEX IDX_8FE49CC5BC6BD944');
        $this->addSql('CREATE TEMPORARY TABLE __temp__access_rule_user AS SELECT access_rule_id, user_id FROM access_rule_user');
        $this->addSql('DROP TABLE access_rule_user');
        $this->addSql('CREATE TABLE access_rule_user (access_rule_id INTEGER NOT NULL, user_id INTEGER NOT NULL, PRIMARY KEY(access_rule_id, user_id), CONSTRAINT FK_8FE49CC5BC6BD944 FOREIGN KEY (access_rule_id) REFERENCES access_rule (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_8FE49CC5A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO access_rule_user (access_rule_id, user_id) SELECT access_rule_id, user_id FROM __temp__access_rule_user');
        $this->addSql('DROP TABLE __temp__access_rule_user');
        $this->addSql('CREATE INDEX IDX_8FE49CC5A76ED395 ON access_rule_user (user_id)');
        $this->addSql('CREATE INDEX IDX_8FE49CC5BC6BD944 ON access_rule_user (access_rule_id)');
        $this->addSql('DROP INDEX IDX_C697EC93296CD8AE');
        $this->addSql('DROP INDEX IDX_C697EC93BC6BD944');
        $this->addSql('CREATE TEMPORARY TABLE __temp__access_rule_team AS SELECT access_rule_id, team_id FROM access_rule_team');
        $this->addSql('DROP TABLE access_rule_team');
        $this->addSql('CREATE TABLE access_rule_team (access_rule_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(access_rule_id, team_id), CONSTRAINT FK_C697EC93BC6BD944 FOREIGN KEY (access_rule_id) REFERENCES access_rule (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_C697EC93296CD8AE FOREIGN KEY (team_id) REFERENCES team (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO access_rule_team (access_rule_id, team_id) SELECT access_rule_id, team_id FROM __temp__access_rule_team');
        $this->addSql('DROP TABLE __temp__access_rule_team');
        $this->addSql('CREATE INDEX IDX_C697EC93296CD8AE ON access_rule_team (team_id)');
        $this->addSql('CREATE INDEX IDX_C697EC93BC6BD944 ON access_rule_team (access_rule_id)');
        $this->addSql('DROP INDEX IDX_551EC0E6D60322AC');
        $this->addSql('DROP INDEX IDX_551EC0E6BC6BD944');
        $this->addSql('CREATE TEMPORARY TABLE __temp__access_rule_role AS SELECT access_rule_id, role_id FROM access_rule_role');
        $this->addSql('DROP TABLE access_rule_role');
        $this->addSql('CREATE TABLE access_rule_role (access_rule_id INTEGER NOT NULL, role_id INTEGER NOT NULL, PRIMARY KEY(access_rule_id, role_id), CONSTRAINT FK_551EC0E6BC6BD944 FOREIGN KEY (access_rule_id) REFERENCES access_rule (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_551EC0E6D60322AC FOREIGN KEY (role_id) REFERENCES role (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO access_rule_role (access_rule_id, role_id) SELECT access_rule_id, role_id FROM __temp__access_rule_role');
        $this->addSql('DROP TABLE __temp__access_rule_role');
        $this->addSql('CREATE INDEX IDX_551EC0E6D60322AC ON access_rule_role (role_id)');
        $this->addSql('CREATE INDEX IDX_551EC0E6BC6BD944 ON access_rule_role (access_rule_id)');
        $this->addSql('DROP INDEX IDX_EBEBA855AE80F5DF');
        $this->addSql('DROP INDEX IDX_EBEBA8554A798B6F');
        $this->addSql('DROP INDEX IDX_EBEBA8557808B1AD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__admission_notification AS SELECT id, subscriber_id, semester_id, department_id, timestamp, info_meeting FROM admission_notification');
        $this->addSql('DROP TABLE admission_notification');
        $this->addSql('CREATE TABLE admission_notification (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, subscriber_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, timestamp DATETIME NOT NULL, info_meeting BOOLEAN NOT NULL, CONSTRAINT FK_EBEBA8557808B1AD FOREIGN KEY (subscriber_id) REFERENCES admission_subscriber (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_EBEBA8554A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_EBEBA855AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO admission_notification (id, subscriber_id, semester_id, department_id, timestamp, info_meeting) SELECT id, subscriber_id, semester_id, department_id, timestamp, info_meeting FROM __temp__admission_notification');
        $this->addSql('DROP TABLE __temp__admission_notification');
        $this->addSql('CREATE INDEX IDX_EBEBA855AE80F5DF ON admission_notification (department_id)');
        $this->addSql('CREATE INDEX IDX_EBEBA8554A798B6F ON admission_notification (semester_id)');
        $this->addSql('CREATE INDEX IDX_EBEBA8557808B1AD ON admission_notification (subscriber_id)');
        $this->addSql('DROP INDEX IDX_FF2BCA844A798B6F');
        $this->addSql('DROP INDEX UNIQ_FF2BCA843F860130');
        $this->addSql('DROP INDEX IDX_FF2BCA84AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__admission_period AS SELECT id, department_id, info_meeting_id, semester_id, start_date, end_date FROM admission_period');
        $this->addSql('DROP TABLE admission_period');
        $this->addSql('CREATE TABLE admission_period (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, info_meeting_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, start_date DATETIME NOT NULL, end_date DATETIME NOT NULL, CONSTRAINT FK_FF2BCA84AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_FF2BCA843F860130 FOREIGN KEY (info_meeting_id) REFERENCES infomeeting (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_FF2BCA844A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO admission_period (id, department_id, info_meeting_id, semester_id, start_date, end_date) SELECT id, department_id, info_meeting_id, semester_id, start_date, end_date FROM __temp__admission_period');
        $this->addSql('DROP TABLE __temp__admission_period');
        $this->addSql('CREATE INDEX IDX_FF2BCA844A798B6F ON admission_period (semester_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_FF2BCA843F860130 ON admission_period (info_meeting_id)');
        $this->addSql('CREATE INDEX IDX_FF2BCA84AE80F5DF ON admission_period (department_id)');
        $this->addSql('DROP INDEX IDX_4F497EB7AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__admission_subscriber AS SELECT id, department_id, email, timestamp, unsubscribe_code, from_application, info_meeting FROM admission_subscriber');
        $this->addSql('DROP TABLE admission_subscriber');
        $this->addSql('CREATE TABLE admission_subscriber (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, email VARCHAR(255) NOT NULL COLLATE BINARY, timestamp DATETIME NOT NULL, unsubscribe_code VARCHAR(255) NOT NULL COLLATE BINARY, from_application BOOLEAN DEFAULT \'0\' NOT NULL, info_meeting BOOLEAN DEFAULT \'0\' NOT NULL, CONSTRAINT FK_4F497EB7AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO admission_subscriber (id, department_id, email, timestamp, unsubscribe_code, from_application, info_meeting) SELECT id, department_id, email, timestamp, unsubscribe_code, from_application, info_meeting FROM __temp__admission_subscriber');
        $this->addSql('DROP TABLE __temp__admission_subscriber');
        $this->addSql('CREATE INDEX IDX_4F497EB7AE80F5DF ON admission_subscriber (department_id)');
        $this->addSql('DROP INDEX UNIQ_A45BDDC155D69D95');
        $this->addSql('DROP INDEX IDX_A45BDDC1A76ED395');
        $this->addSql('DROP INDEX IDX_A45BDDC11DD4B017');
        $this->addSql('CREATE TEMPORARY TABLE __temp__application AS SELECT id, admission_period_id, user_id, interview_id, year_of_study, monday, tuesday, wednesday, thursday, friday, substitute, language, double_position, preferred_group, preferred_school, previous_participation, last_edited, created, heard_about_from, team_interest, special_needs FROM application');
        $this->addSql('DROP TABLE application');
        $this->addSql('CREATE TABLE application (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, admission_period_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, interview_id INTEGER DEFAULT NULL, year_of_study VARCHAR(20) NOT NULL COLLATE BINARY, monday BOOLEAN DEFAULT \'1\' NOT NULL, tuesday BOOLEAN DEFAULT \'1\' NOT NULL, wednesday BOOLEAN DEFAULT \'1\' NOT NULL, thursday BOOLEAN DEFAULT \'1\' NOT NULL, friday BOOLEAN DEFAULT \'1\' NOT NULL, substitute BOOLEAN DEFAULT \'0\' NOT NULL, language VARCHAR(255) DEFAULT NULL COLLATE BINARY, double_position BOOLEAN DEFAULT \'0\' NOT NULL, preferred_group VARCHAR(255) DEFAULT NULL COLLATE BINARY, preferred_school VARCHAR(255) DEFAULT NULL COLLATE BINARY, previous_participation BOOLEAN NOT NULL, last_edited DATETIME NOT NULL, created DATETIME NOT NULL, heard_about_from CLOB NOT NULL COLLATE BINARY --(DC2Type:array)
        , team_interest BOOLEAN NOT NULL, special_needs VARCHAR(255) DEFAULT NULL COLLATE BINARY, CONSTRAINT FK_A45BDDC11DD4B017 FOREIGN KEY (admission_period_id) REFERENCES admission_period (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_A45BDDC1A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_A45BDDC155D69D95 FOREIGN KEY (interview_id) REFERENCES interview (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO application (id, admission_period_id, user_id, interview_id, year_of_study, monday, tuesday, wednesday, thursday, friday, substitute, language, double_position, preferred_group, preferred_school, previous_participation, last_edited, created, heard_about_from, team_interest, special_needs) SELECT id, admission_period_id, user_id, interview_id, year_of_study, monday, tuesday, wednesday, thursday, friday, substitute, language, double_position, preferred_group, preferred_school, previous_participation, last_edited, created, heard_about_from, team_interest, special_needs FROM __temp__application');
        $this->addSql('DROP TABLE __temp__application');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_A45BDDC155D69D95 ON application (interview_id)');
        $this->addSql('CREATE INDEX IDX_A45BDDC1A76ED395 ON application (user_id)');
        $this->addSql('CREATE INDEX IDX_A45BDDC11DD4B017 ON application (admission_period_id)');
        $this->addSql('DROP INDEX IDX_330CCE97296CD8AE');
        $this->addSql('DROP INDEX IDX_330CCE973E030ACD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__application_team AS SELECT application_id, team_id FROM application_team');
        $this->addSql('DROP TABLE application_team');
        $this->addSql('CREATE TABLE application_team (application_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(application_id, team_id), CONSTRAINT FK_330CCE973E030ACD FOREIGN KEY (application_id) REFERENCES application (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_330CCE97296CD8AE FOREIGN KEY (team_id) REFERENCES team (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO application_team (application_id, team_id) SELECT application_id, team_id FROM __temp__application_team');
        $this->addSql('DROP TABLE __temp__application_team');
        $this->addSql('CREATE INDEX IDX_330CCE97296CD8AE ON application_team (team_id)');
        $this->addSql('CREATE INDEX IDX_330CCE973E030ACD ON application_team (application_id)');
        $this->addSql('DROP INDEX IDX_23A0E66F675F31B');
        $this->addSql('DROP INDEX UNIQ_23A0E66989D9B62');
        $this->addSql('CREATE TEMPORARY TABLE __temp__article AS SELECT id, author_id, title, slug, article, image_large, image_small, created, updated, sticky, published FROM article');
        $this->addSql('DROP TABLE article');
        $this->addSql('CREATE TABLE article (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, author_id INTEGER DEFAULT NULL, title VARCHAR(255) NOT NULL COLLATE BINARY, slug VARCHAR(255) NOT NULL COLLATE BINARY, article CLOB NOT NULL COLLATE BINARY, image_large VARCHAR(255) NOT NULL COLLATE BINARY, image_small VARCHAR(255) NOT NULL COLLATE BINARY, created DATETIME NOT NULL, updated DATETIME NOT NULL, sticky BOOLEAN NOT NULL, published BOOLEAN DEFAULT NULL, CONSTRAINT FK_23A0E66F675F31B FOREIGN KEY (author_id) REFERENCES user (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO article (id, author_id, title, slug, article, image_large, image_small, created, updated, sticky, published) SELECT id, author_id, title, slug, article, image_large, image_small, created, updated, sticky, published FROM __temp__article');
        $this->addSql('DROP TABLE __temp__article');
        $this->addSql('CREATE INDEX IDX_23A0E66F675F31B ON article (author_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_23A0E66989D9B62 ON article (slug)');
        $this->addSql('DROP INDEX IDX_B29B8FB5AE80F5DF');
        $this->addSql('DROP INDEX IDX_B29B8FB57294869C');
        $this->addSql('CREATE TEMPORARY TABLE __temp__articles_departments AS SELECT article_id, department_id FROM articles_departments');
        $this->addSql('DROP TABLE articles_departments');
        $this->addSql('CREATE TABLE articles_departments (article_id INTEGER NOT NULL, department_id INTEGER NOT NULL, PRIMARY KEY(article_id, department_id), CONSTRAINT FK_B29B8FB57294869C FOREIGN KEY (article_id) REFERENCES article (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B29B8FB5AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO articles_departments (article_id, department_id) SELECT article_id, department_id FROM __temp__articles_departments');
        $this->addSql('DROP TABLE __temp__articles_departments');
        $this->addSql('CREATE INDEX IDX_B29B8FB5AE80F5DF ON articles_departments (department_id)');
        $this->addSql('CREATE INDEX IDX_B29B8FB57294869C ON articles_departments (article_id)');
        $this->addSql('DROP INDEX IDX_1B31A1DBC32A47EE');
        $this->addSql('DROP INDEX IDX_1B31A1DBAE80F5DF');
        $this->addSql('DROP INDEX IDX_1B31A1DB4A798B6F');
        $this->addSql('DROP INDEX IDX_1B31A1DBA76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__assistant_history AS SELECT id, user_id, semester_id, department_id, school_id, workdays, bolk, day FROM assistant_history');
        $this->addSql('DROP TABLE assistant_history');
        $this->addSql('CREATE TABLE assistant_history (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, school_id INTEGER DEFAULT NULL, workdays VARCHAR(255) NOT NULL COLLATE BINARY, bolk VARCHAR(255) DEFAULT NULL COLLATE BINARY, day VARCHAR(255) NOT NULL COLLATE BINARY, CONSTRAINT FK_1B31A1DBA76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_1B31A1DB4A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_1B31A1DBAE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_1B31A1DBC32A47EE FOREIGN KEY (school_id) REFERENCES school (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO assistant_history (id, user_id, semester_id, department_id, school_id, workdays, bolk, day) SELECT id, user_id, semester_id, department_id, school_id, workdays, bolk, day FROM __temp__assistant_history');
        $this->addSql('DROP TABLE __temp__assistant_history');
        $this->addSql('CREATE INDEX IDX_1B31A1DBC32A47EE ON assistant_history (school_id)');
        $this->addSql('CREATE INDEX IDX_1B31A1DBAE80F5DF ON assistant_history (department_id)');
        $this->addSql('CREATE INDEX IDX_1B31A1DB4A798B6F ON assistant_history (semester_id)');
        $this->addSql('CREATE INDEX IDX_1B31A1DBA76ED395 ON assistant_history (user_id)');
        $this->addSql('DROP INDEX IDX_6E343C40A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__certificate_request AS SELECT id, user_id FROM certificate_request');
        $this->addSql('DROP TABLE certificate_request');
        $this->addSql('CREATE TABLE certificate_request (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, CONSTRAINT FK_6E343C40A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO certificate_request (id, user_id) SELECT id, user_id FROM __temp__certificate_request');
        $this->addSql('DROP TABLE __temp__certificate_request');
        $this->addSql('CREATE INDEX IDX_6E343C40A76ED395 ON certificate_request (user_id)');
        $this->addSql('DROP INDEX IDX_ED84254BC32A47EE');
        $this->addSql('DROP INDEX IDX_ED84254BAE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__department_school AS SELECT department_id, school_id FROM department_school');
        $this->addSql('DROP TABLE department_school');
        $this->addSql('CREATE TABLE department_school (department_id INTEGER NOT NULL, school_id INTEGER NOT NULL, PRIMARY KEY(department_id, school_id), CONSTRAINT FK_ED84254BAE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_ED84254BC32A47EE FOREIGN KEY (school_id) REFERENCES school (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO department_school (department_id, school_id) SELECT department_id, school_id FROM __temp__department_school');
        $this->addSql('DROP TABLE __temp__department_school');
        $this->addSql('CREATE INDEX IDX_ED84254BC32A47EE ON department_school (school_id)');
        $this->addSql('CREATE INDEX IDX_ED84254BAE80F5DF ON department_school (department_id)');
        $this->addSql('DROP INDEX IDX_3BAE0AA7D60322AC');
        $this->addSql('DROP INDEX IDX_3BAE0AA74A798B6F');
        $this->addSql('DROP INDEX IDX_3BAE0AA7AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__event AS SELECT id, department_id, semester_id, role_id, title, start_time, end_time, link, description FROM event');
        $this->addSql('DROP TABLE event');
        $this->addSql('CREATE TABLE event (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, role_id INTEGER DEFAULT NULL, title VARCHAR(255) NOT NULL COLLATE BINARY, start_time DATETIME NOT NULL, end_time DATETIME NOT NULL, link VARCHAR(250) DEFAULT NULL COLLATE BINARY, description CLOB NOT NULL, CONSTRAINT FK_3BAE0AA7AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_3BAE0AA74A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_3BAE0AA7D60322AC FOREIGN KEY (role_id) REFERENCES role (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO event (id, department_id, semester_id, role_id, title, start_time, end_time, link, description) SELECT id, department_id, semester_id, role_id, title, start_time, end_time, link, description FROM __temp__event');
        $this->addSql('DROP TABLE __temp__event');
        $this->addSql('CREATE INDEX IDX_3BAE0AA7D60322AC ON event (role_id)');
        $this->addSql('CREATE INDEX IDX_3BAE0AA74A798B6F ON event (semester_id)');
        $this->addSql('CREATE INDEX IDX_3BAE0AA7AE80F5DF ON event (department_id)');
        $this->addSql('DROP INDEX IDX_F649058740776D10');
        $this->addSql('DROP INDEX IDX_F6490587100E9BDB');
        $this->addSql('DROP INDEX IDX_F6490587E7EC5785');
        $this->addSql('DROP INDEX IDX_F6490587A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__executive_board_membership AS SELECT id, user_id, board_id, start_semester_id, end_semester_id, position_name FROM executive_board_membership');
        $this->addSql('DROP TABLE executive_board_membership');
        $this->addSql('CREATE TABLE executive_board_membership (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, board_id INTEGER DEFAULT NULL, start_semester_id INTEGER DEFAULT NULL, end_semester_id INTEGER DEFAULT NULL, position_name CLOB DEFAULT NULL COLLATE BINARY, CONSTRAINT FK_F6490587A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_F6490587E7EC5785 FOREIGN KEY (board_id) REFERENCES executive_board (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_F6490587100E9BDB FOREIGN KEY (start_semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_F649058740776D10 FOREIGN KEY (end_semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO executive_board_membership (id, user_id, board_id, start_semester_id, end_semester_id, position_name) SELECT id, user_id, board_id, start_semester_id, end_semester_id, position_name FROM __temp__executive_board_membership');
        $this->addSql('DROP TABLE __temp__executive_board_membership');
        $this->addSql('CREATE INDEX IDX_F649058740776D10 ON executive_board_membership (end_semester_id)');
        $this->addSql('CREATE INDEX IDX_F6490587100E9BDB ON executive_board_membership (start_semester_id)');
        $this->addSql('CREATE INDEX IDX_F6490587E7EC5785 ON executive_board_membership (board_id)');
        $this->addSql('CREATE INDEX IDX_F6490587A76ED395 ON executive_board_membership (user_id)');
        $this->addSql('DROP INDEX IDX_D2294458A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__feedback AS SELECT id, user_id, title, description, type, created_at FROM feedback');
        $this->addSql('DROP TABLE feedback');
        $this->addSql('CREATE TABLE feedback (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, title VARCHAR(55) NOT NULL COLLATE BINARY, description VARCHAR(500) NOT NULL COLLATE BINARY, type VARCHAR(45) NOT NULL COLLATE BINARY, created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL, CONSTRAINT FK_D2294458A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO feedback (id, user_id, title, description, type, created_at) SELECT id, user_id, title, description, type, created_at FROM __temp__feedback');
        $this->addSql('DROP TABLE __temp__feedback');
        $this->addSql('CREATE INDEX IDX_D2294458A76ED395 ON feedback (user_id)');
        $this->addSql('DROP INDEX IDX_8F32491AAE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__field_of_study AS SELECT id, department_id, name, short_name FROM field_of_study');
        $this->addSql('DROP TABLE field_of_study');
        $this->addSql('CREATE TABLE field_of_study (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(250) NOT NULL COLLATE BINARY, short_name VARCHAR(50) NOT NULL COLLATE BINARY, CONSTRAINT FK_8F32491AAE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO field_of_study (id, department_id, name, short_name) SELECT id, department_id, name, short_name FROM __temp__field_of_study');
        $this->addSql('DROP TABLE __temp__field_of_study');
        $this->addSql('CREATE INDEX IDX_8F32491AAE80F5DF ON field_of_study (department_id)');
        $this->addSql('DROP INDEX IDX_CF1D3C34A76ED395');
        $this->addSql('DROP INDEX UNIQ_CF1D3C347B23C9B2');
        $this->addSql('DROP INDEX IDX_CF1D3C342C97900A');
        $this->addSql('DROP INDEX IDX_CF1D3C347906D9E8');
        $this->addSql('DROP INDEX IDX_CF1D3C34EA1BEF35');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview AS SELECT id, schema_id, interviewer_id, co_interviewer_id, interview_score_id, user_id, interviewed, scheduled, last_schedule_changed, room, campus, map_link, conducted, interview_status, response_code, cancel_message, new_time_message, num_accept_interview_reminders_sent FROM interview');
        $this->addSql('DROP TABLE interview');
        $this->addSql('CREATE TABLE interview (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, schema_id INTEGER DEFAULT NULL, interviewer_id INTEGER DEFAULT NULL, co_interviewer_id INTEGER DEFAULT NULL, interview_score_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, interviewed BOOLEAN NOT NULL, scheduled DATETIME DEFAULT NULL, last_schedule_changed DATETIME DEFAULT NULL, room VARCHAR(255) DEFAULT NULL COLLATE BINARY, campus VARCHAR(255) DEFAULT NULL COLLATE BINARY, map_link VARCHAR(500) DEFAULT NULL COLLATE BINARY, conducted DATETIME DEFAULT NULL, interview_status INTEGER NOT NULL, response_code VARCHAR(255) DEFAULT NULL COLLATE BINARY, cancel_message VARCHAR(2000) DEFAULT NULL COLLATE BINARY, new_time_message VARCHAR(2000) NOT NULL COLLATE BINARY, num_accept_interview_reminders_sent INTEGER DEFAULT 0 NOT NULL, CONSTRAINT FK_CF1D3C34EA1BEF35 FOREIGN KEY (schema_id) REFERENCES interview_schema (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_CF1D3C347906D9E8 FOREIGN KEY (interviewer_id) REFERENCES user (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_CF1D3C342C97900A FOREIGN KEY (co_interviewer_id) REFERENCES user (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_CF1D3C347B23C9B2 FOREIGN KEY (interview_score_id) REFERENCES interview_score (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_CF1D3C34A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO interview (id, schema_id, interviewer_id, co_interviewer_id, interview_score_id, user_id, interviewed, scheduled, last_schedule_changed, room, campus, map_link, conducted, interview_status, response_code, cancel_message, new_time_message, num_accept_interview_reminders_sent) SELECT id, schema_id, interviewer_id, co_interviewer_id, interview_score_id, user_id, interviewed, scheduled, last_schedule_changed, room, campus, map_link, conducted, interview_status, response_code, cancel_message, new_time_message, num_accept_interview_reminders_sent FROM __temp__interview');
        $this->addSql('DROP TABLE __temp__interview');
        $this->addSql('CREATE INDEX IDX_CF1D3C34A76ED395 ON interview (user_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CF1D3C347B23C9B2 ON interview (interview_score_id)');
        $this->addSql('CREATE INDEX IDX_CF1D3C342C97900A ON interview (co_interviewer_id)');
        $this->addSql('CREATE INDEX IDX_CF1D3C347906D9E8 ON interview (interviewer_id)');
        $this->addSql('CREATE INDEX IDX_CF1D3C34EA1BEF35 ON interview (schema_id)');
        $this->addSql('DROP INDEX IDX_BA2446521E27F6BF');
        $this->addSql('DROP INDEX IDX_BA24465255D69D95');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_answer AS SELECT id, interview_id, question_id, answer FROM interview_answer');
        $this->addSql('DROP TABLE interview_answer');
        $this->addSql('CREATE TABLE interview_answer (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, interview_id INTEGER DEFAULT NULL, question_id INTEGER DEFAULT NULL, answer CLOB DEFAULT NULL COLLATE BINARY --(DC2Type:array)
        , CONSTRAINT FK_BA24465255D69D95 FOREIGN KEY (interview_id) REFERENCES interview (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_BA2446521E27F6BF FOREIGN KEY (question_id) REFERENCES interview_question (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO interview_answer (id, interview_id, question_id, answer) SELECT id, interview_id, question_id, answer FROM __temp__interview_answer');
        $this->addSql('DROP TABLE __temp__interview_answer');
        $this->addSql('CREATE INDEX IDX_BA2446521E27F6BF ON interview_answer (question_id)');
        $this->addSql('CREATE INDEX IDX_BA24465255D69D95 ON interview_answer (interview_id)');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_question AS SELECT id, type, question, help FROM interview_question');
        $this->addSql('DROP TABLE interview_question');
        $this->addSql('CREATE TABLE interview_question (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, type VARCHAR(255) NOT NULL COLLATE BINARY, question CLOB NOT NULL, help CLOB DEFAULT NULL)');
        $this->addSql('INSERT INTO interview_question (id, type, question, help) SELECT id, type, question, help FROM __temp__interview_question');
        $this->addSql('DROP TABLE __temp__interview_question');
        $this->addSql('DROP INDEX IDX_711360B41E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_question_alternative AS SELECT id, question_id, alternative FROM interview_question_alternative');
        $this->addSql('DROP TABLE interview_question_alternative');
        $this->addSql('CREATE TABLE interview_question_alternative (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, question_id INTEGER DEFAULT NULL, alternative VARCHAR(255) NOT NULL COLLATE BINARY, CONSTRAINT FK_711360B41E27F6BF FOREIGN KEY (question_id) REFERENCES interview_question (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO interview_question_alternative (id, question_id, alternative) SELECT id, question_id, alternative FROM __temp__interview_question_alternative');
        $this->addSql('DROP TABLE __temp__interview_question_alternative');
        $this->addSql('CREATE INDEX IDX_711360B41E27F6BF ON interview_question_alternative (question_id)');
        $this->addSql('DROP INDEX IDX_F53874901E27F6BF');
        $this->addSql('DROP INDEX IDX_F5387490EA1BEF35');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_schemas_questions AS SELECT schema_id, question_id FROM interview_schemas_questions');
        $this->addSql('DROP TABLE interview_schemas_questions');
        $this->addSql('CREATE TABLE interview_schemas_questions (schema_id INTEGER NOT NULL, question_id INTEGER NOT NULL, PRIMARY KEY(schema_id, question_id), CONSTRAINT FK_F5387490EA1BEF35 FOREIGN KEY (schema_id) REFERENCES interview_schema (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_F53874901E27F6BF FOREIGN KEY (question_id) REFERENCES interview_question (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO interview_schemas_questions (schema_id, question_id) SELECT schema_id, question_id FROM __temp__interview_schemas_questions');
        $this->addSql('DROP TABLE __temp__interview_schemas_questions');
        $this->addSql('CREATE INDEX IDX_F53874901E27F6BF ON interview_schemas_questions (question_id)');
        $this->addSql('CREATE INDEX IDX_F5387490EA1BEF35 ON interview_schemas_questions (schema_id)');
        $this->addSql('DROP INDEX IDX_B10172528D93D649');
        $this->addSql('CREATE TEMPORARY TABLE __temp__password_reset AS SELECT id, user, hashed_reset_code, reset_time FROM password_reset');
        $this->addSql('DROP TABLE password_reset');
        $this->addSql('CREATE TABLE password_reset (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user INTEGER DEFAULT NULL, hashed_reset_code VARCHAR(255) NOT NULL COLLATE BINARY, reset_time DATETIME NOT NULL, CONSTRAINT FK_B10172528D93D649 FOREIGN KEY (user) REFERENCES user (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO password_reset (id, user, hashed_reset_code, reset_time) SELECT id, user, hashed_reset_code, reset_time FROM __temp__password_reset');
        $this->addSql('DROP TABLE __temp__password_reset');
        $this->addSql('CREATE INDEX IDX_B10172528D93D649 ON password_reset (user)');
        $this->addSql('DROP INDEX IDX_5399B645A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__receipt AS SELECT id, user_id, submit_date, receipt_date, refund_date, picture_path, sum, status, visual_id, description FROM receipt');
        $this->addSql('DROP TABLE receipt');
        $this->addSql('CREATE TABLE receipt (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, submit_date DATETIME DEFAULT NULL, receipt_date DATETIME NOT NULL, refund_date DATETIME DEFAULT NULL, picture_path VARCHAR(255) DEFAULT NULL COLLATE BINARY, sum DOUBLE PRECISION NOT NULL, status VARCHAR(255) NOT NULL COLLATE BINARY, visual_id VARCHAR(255) DEFAULT NULL COLLATE BINARY, description CLOB NOT NULL, CONSTRAINT FK_5399B645A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO receipt (id, user_id, submit_date, receipt_date, refund_date, picture_path, sum, status, visual_id, description) SELECT id, user_id, submit_date, receipt_date, refund_date, picture_path, sum, status, visual_id, description FROM __temp__receipt');
        $this->addSql('DROP TABLE __temp__receipt');
        $this->addSql('CREATE INDEX IDX_5399B645A76ED395 ON receipt (user_id)');
        $this->addSql('DROP INDEX IDX_4BAE8530AE80F5DF');
        $this->addSql('DROP INDEX IDX_4BAE85304A798B6F');
        $this->addSql('DROP INDEX IDX_4BAE8530C32A47EE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__school_capacity AS SELECT id, school_id, semester_id, department_id, monday, tuesday, wednesday, thursday, friday FROM school_capacity');
        $this->addSql('DROP TABLE school_capacity');
        $this->addSql('CREATE TABLE school_capacity (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, school_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, monday INTEGER NOT NULL, tuesday INTEGER NOT NULL, wednesday INTEGER NOT NULL, thursday INTEGER NOT NULL, friday INTEGER NOT NULL, CONSTRAINT FK_4BAE8530C32A47EE FOREIGN KEY (school_id) REFERENCES school (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_4BAE85304A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_4BAE8530AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO school_capacity (id, school_id, semester_id, department_id, monday, tuesday, wednesday, thursday, friday) SELECT id, school_id, semester_id, department_id, monday, tuesday, wednesday, thursday, friday FROM __temp__school_capacity');
        $this->addSql('DROP TABLE __temp__school_capacity');
        $this->addSql('CREATE INDEX IDX_4BAE8530AE80F5DF ON school_capacity (department_id)');
        $this->addSql('CREATE INDEX IDX_4BAE85304A798B6F ON school_capacity (semester_id)');
        $this->addSql('CREATE INDEX IDX_4BAE8530C32A47EE ON school_capacity (school_id)');
        $this->addSql('DROP INDEX UNIQ_AE880141A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__signature AS SELECT id, user_id, signature_path, description, additional_comment FROM signature');
        $this->addSql('DROP TABLE signature');
        $this->addSql('CREATE TABLE signature (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, signature_path VARCHAR(45) DEFAULT NULL COLLATE BINARY, description VARCHAR(250) NOT NULL COLLATE BINARY, additional_comment VARCHAR(500) DEFAULT NULL COLLATE BINARY, CONSTRAINT FK_AE880141A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO signature (id, user_id, signature_path, description, additional_comment) SELECT id, user_id, signature_path, description, additional_comment FROM __temp__signature');
        $this->addSql('DROP TABLE __temp__signature');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_AE880141A76ED395 ON signature (user_id)');
        $this->addSql('DROP INDEX IDX_AD5F9BFCAE80F5DF');
        $this->addSql('DROP INDEX IDX_AD5F9BFC4A798B6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey AS SELECT id, semester_id, department_id, name, show_custom_pop_up_message, finish_page_content, confidential, target_audience, survey_pop_up_message FROM survey');
        $this->addSql('DROP TABLE survey');
        $this->addSql('CREATE TABLE survey (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, show_custom_pop_up_message BOOLEAN NOT NULL, finish_page_content CLOB DEFAULT NULL COLLATE BINARY, confidential BOOLEAN DEFAULT \'0\' NOT NULL, target_audience INTEGER DEFAULT 0 NOT NULL, survey_pop_up_message CLOB DEFAULT \'Svar på undersøkelse!\' NOT NULL COLLATE BINARY, CONSTRAINT FK_AD5F9BFC4A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_AD5F9BFCAE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey (id, semester_id, department_id, name, show_custom_pop_up_message, finish_page_content, confidential, target_audience, survey_pop_up_message) SELECT id, semester_id, department_id, name, show_custom_pop_up_message, finish_page_content, confidential, target_audience, survey_pop_up_message FROM __temp__survey');
        $this->addSql('DROP TABLE __temp__survey');
        $this->addSql('CREATE INDEX IDX_AD5F9BFCAE80F5DF ON survey (department_id)');
        $this->addSql('CREATE INDEX IDX_AD5F9BFC4A798B6F ON survey (semester_id)');
        $this->addSql('DROP INDEX IDX_DD4B0A341E27F6BF');
        $this->addSql('DROP INDEX IDX_DD4B0A34B3FE509D');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_surveys_questions AS SELECT survey_id, question_id FROM survey_surveys_questions');
        $this->addSql('DROP TABLE survey_surveys_questions');
        $this->addSql('CREATE TABLE survey_surveys_questions (survey_id INTEGER NOT NULL, question_id INTEGER NOT NULL, PRIMARY KEY(survey_id, question_id), CONSTRAINT FK_DD4B0A34B3FE509D FOREIGN KEY (survey_id) REFERENCES survey (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_DD4B0A341E27F6BF FOREIGN KEY (question_id) REFERENCES survey_question (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_surveys_questions (survey_id, question_id) SELECT survey_id, question_id FROM __temp__survey_surveys_questions');
        $this->addSql('DROP TABLE __temp__survey_surveys_questions');
        $this->addSql('CREATE INDEX IDX_DD4B0A341E27F6BF ON survey_surveys_questions (question_id)');
        $this->addSql('CREATE INDEX IDX_DD4B0A34B3FE509D ON survey_surveys_questions (survey_id)');
        $this->addSql('DROP INDEX IDX_F2D382494D16DAC3');
        $this->addSql('DROP INDEX IDX_F2D382491E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_answer AS SELECT id, question_id, survey_taken_id, answer, answer_array FROM survey_answer');
        $this->addSql('DROP TABLE survey_answer');
        $this->addSql('CREATE TABLE survey_answer (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, question_id INTEGER DEFAULT NULL, survey_taken_id INTEGER DEFAULT NULL, answer CLOB DEFAULT NULL COLLATE BINARY, answer_array CLOB DEFAULT NULL COLLATE BINARY --(DC2Type:array)
        , CONSTRAINT FK_F2D382491E27F6BF FOREIGN KEY (question_id) REFERENCES survey_question (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_F2D382494D16DAC3 FOREIGN KEY (survey_taken_id) REFERENCES survey_taken (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_answer (id, question_id, survey_taken_id, answer, answer_array) SELECT id, question_id, survey_taken_id, answer, answer_array FROM __temp__survey_answer');
        $this->addSql('DROP TABLE __temp__survey_answer');
        $this->addSql('CREATE INDEX IDX_F2D382494D16DAC3 ON survey_answer (survey_taken_id)');
        $this->addSql('CREATE INDEX IDX_F2D382491E27F6BF ON survey_answer (question_id)');
        $this->addSql('DROP INDEX IDX_503794C9EF1A9D84');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_link_click AS SELECT id, notification_id, time_of_visit FROM survey_link_click');
        $this->addSql('DROP TABLE survey_link_click');
        $this->addSql('CREATE TABLE survey_link_click (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, notification_id INTEGER DEFAULT NULL, time_of_visit DATETIME NOT NULL, CONSTRAINT FK_503794C9EF1A9D84 FOREIGN KEY (notification_id) REFERENCES survey_notification (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_link_click (id, notification_id, time_of_visit) SELECT id, notification_id, time_of_visit FROM __temp__survey_link_click');
        $this->addSql('DROP TABLE __temp__survey_link_click');
        $this->addSql('CREATE INDEX IDX_503794C9EF1A9D84 ON survey_link_click (notification_id)');
        $this->addSql('DROP INDEX IDX_CF867A9AF4EF17D2');
        $this->addSql('DROP INDEX IDX_CF867A9AA76ED395');
        $this->addSql('DROP INDEX UNIQ_CF867A9AD0494586');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_notification AS SELECT id, user_id, survey_notification_collection_id, time_notification_Sent, user_identifier, sent FROM survey_notification');
        $this->addSql('DROP TABLE survey_notification');
        $this->addSql('CREATE TABLE survey_notification (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, survey_notification_collection_id INTEGER DEFAULT NULL, time_notification_Sent DATETIME DEFAULT NULL, user_identifier VARCHAR(255) NOT NULL COLLATE BINARY, sent BOOLEAN NOT NULL, CONSTRAINT FK_CF867A9AA76ED395 FOREIGN KEY (user_id) REFERENCES user (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_CF867A9AF4EF17D2 FOREIGN KEY (survey_notification_collection_id) REFERENCES survey_notification_collection (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_notification (id, user_id, survey_notification_collection_id, time_notification_Sent, user_identifier, sent) SELECT id, user_id, survey_notification_collection_id, time_notification_Sent, user_identifier, sent FROM __temp__survey_notification');
        $this->addSql('DROP TABLE __temp__survey_notification');
        $this->addSql('CREATE INDEX IDX_CF867A9AF4EF17D2 ON survey_notification (survey_notification_collection_id)');
        $this->addSql('CREATE INDEX IDX_CF867A9AA76ED395 ON survey_notification (user_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CF867A9AD0494586 ON survey_notification (user_identifier)');
        $this->addSql('DROP INDEX IDX_F31C0595B3FE509D');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_notification_collection AS SELECT id, survey_id, name, time_of_notification, notification_type, all_sent, active, sms_message, email_from_name, email_subject, email_message, email_end_message, email_type FROM survey_notification_collection');
        $this->addSql('DROP TABLE survey_notification_collection');
        $this->addSql('CREATE TABLE survey_notification_collection (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, survey_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, time_of_notification DATETIME NOT NULL, notification_type INTEGER NOT NULL, all_sent BOOLEAN NOT NULL, active BOOLEAN DEFAULT \'0\' NOT NULL, sms_message VARCHAR(255) NOT NULL COLLATE BINARY, email_from_name VARCHAR(255) NOT NULL COLLATE BINARY, email_subject VARCHAR(255) NOT NULL COLLATE BINARY, email_message CLOB NOT NULL COLLATE BINARY, email_end_message CLOB NOT NULL COLLATE BINARY, email_type INTEGER NOT NULL, CONSTRAINT FK_F31C0595B3FE509D FOREIGN KEY (survey_id) REFERENCES survey (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_notification_collection (id, survey_id, name, time_of_notification, notification_type, all_sent, active, sms_message, email_from_name, email_subject, email_message, email_end_message, email_type) SELECT id, survey_id, name, time_of_notification, notification_type, all_sent, active, sms_message, email_from_name, email_subject, email_message, email_end_message, email_type FROM __temp__survey_notification_collection');
        $this->addSql('DROP TABLE __temp__survey_notification_collection');
        $this->addSql('CREATE INDEX IDX_F31C0595B3FE509D ON survey_notification_collection (survey_id)');
        $this->addSql('DROP INDEX IDX_99307B7B1ED93D47');
        $this->addSql('DROP INDEX IDX_99307B7BF4EF17D2');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_notification_collection_user_group AS SELECT survey_notification_collection_id, user_group_id FROM survey_notification_collection_user_group');
        $this->addSql('DROP TABLE survey_notification_collection_user_group');
        $this->addSql('CREATE TABLE survey_notification_collection_user_group (survey_notification_collection_id INTEGER NOT NULL, user_group_id INTEGER NOT NULL, PRIMARY KEY(survey_notification_collection_id, user_group_id), CONSTRAINT FK_99307B7BF4EF17D2 FOREIGN KEY (survey_notification_collection_id) REFERENCES survey_notification_collection (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_99307B7B1ED93D47 FOREIGN KEY (user_group_id) REFERENCES usergroup (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_notification_collection_user_group (survey_notification_collection_id, user_group_id) SELECT survey_notification_collection_id, user_group_id FROM __temp__survey_notification_collection_user_group');
        $this->addSql('DROP TABLE __temp__survey_notification_collection_user_group');
        $this->addSql('CREATE INDEX IDX_99307B7B1ED93D47 ON survey_notification_collection_user_group (user_group_id)');
        $this->addSql('CREATE INDEX IDX_99307B7BF4EF17D2 ON survey_notification_collection_user_group (survey_notification_collection_id)');
        $this->addSql('DROP INDEX IDX_D959462E1E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_question_alternative AS SELECT id, question_id, alternative FROM survey_question_alternative');
        $this->addSql('DROP TABLE survey_question_alternative');
        $this->addSql('CREATE TABLE survey_question_alternative (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, question_id INTEGER DEFAULT NULL, alternative VARCHAR(255) NOT NULL COLLATE BINARY, CONSTRAINT FK_D959462E1E27F6BF FOREIGN KEY (question_id) REFERENCES survey_question (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_question_alternative (id, question_id, alternative) SELECT id, question_id, alternative FROM __temp__survey_question_alternative');
        $this->addSql('DROP TABLE __temp__survey_question_alternative');
        $this->addSql('CREATE INDEX IDX_D959462E1E27F6BF ON survey_question_alternative (question_id)');
        $this->addSql('DROP INDEX IDX_B3982430B3FE509D');
        $this->addSql('DROP INDEX IDX_B3982430C32A47EE');
        $this->addSql('DROP INDEX IDX_B3982430A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_taken AS SELECT id, user_id, school_id, survey_id, time FROM survey_taken');
        $this->addSql('DROP TABLE survey_taken');
        $this->addSql('CREATE TABLE survey_taken (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, school_id INTEGER DEFAULT NULL, survey_id INTEGER DEFAULT NULL, time DATETIME NOT NULL, CONSTRAINT FK_B3982430A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B3982430C32A47EE FOREIGN KEY (school_id) REFERENCES school (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B3982430B3FE509D FOREIGN KEY (survey_id) REFERENCES survey (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO survey_taken (id, user_id, school_id, survey_id, time) SELECT id, user_id, school_id, survey_id, time FROM __temp__survey_taken');
        $this->addSql('DROP TABLE __temp__survey_taken');
        $this->addSql('CREATE INDEX IDX_B3982430B3FE509D ON survey_taken (survey_id)');
        $this->addSql('CREATE INDEX IDX_B3982430C32A47EE ON survey_taken (school_id)');
        $this->addSql('CREATE INDEX IDX_B3982430A76ED395 ON survey_taken (user_id)');
        $this->addSql('DROP INDEX IDX_C4E0A61FAE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team AS SELECT id, department_id, name, email, description, short_description, accept_application, deadline, active FROM team');
        $this->addSql('DROP TABLE team');
        $this->addSql('CREATE TABLE team (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(250) NOT NULL COLLATE BINARY, email VARCHAR(255) DEFAULT NULL COLLATE BINARY, description CLOB DEFAULT NULL COLLATE BINARY, short_description VARCHAR(255) DEFAULT NULL COLLATE BINARY, accept_application BOOLEAN DEFAULT NULL, deadline DATETIME DEFAULT NULL, active BOOLEAN DEFAULT \'1\' NOT NULL, CONSTRAINT FK_C4E0A61FAE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO team (id, department_id, name, email, description, short_description, accept_application, deadline, active) SELECT id, department_id, name, email, description, short_description, accept_application, deadline, active FROM __temp__team');
        $this->addSql('DROP TABLE __temp__team');
        $this->addSql('CREATE INDEX IDX_C4E0A61FAE80F5DF ON team (department_id)');
        $this->addSql('DROP INDEX IDX_4F6B328C296CD8AE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_application AS SELECT id, team_id, name, email, field_of_study, year_of_study, motivation_text, biography, phone FROM team_application');
        $this->addSql('DROP TABLE team_application');
        $this->addSql('CREATE TABLE team_application (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, team_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, email VARCHAR(255) NOT NULL COLLATE BINARY, field_of_study VARCHAR(255) NOT NULL COLLATE BINARY, year_of_study VARCHAR(255) NOT NULL COLLATE BINARY, motivation_text CLOB NOT NULL COLLATE BINARY, biography CLOB NOT NULL COLLATE BINARY, phone VARCHAR(255) NOT NULL COLLATE BINARY, CONSTRAINT FK_4F6B328C296CD8AE FOREIGN KEY (team_id) REFERENCES team (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO team_application (id, team_id, name, email, field_of_study, year_of_study, motivation_text, biography, phone) SELECT id, team_id, name, email, field_of_study, year_of_study, motivation_text, biography, phone FROM __temp__team_application');
        $this->addSql('DROP TABLE __temp__team_application');
        $this->addSql('CREATE INDEX IDX_4F6B328C296CD8AE ON team_application (team_id)');
        $this->addSql('DROP INDEX IDX_D47CC619AE80F5DF');
        $this->addSql('DROP INDEX IDX_D47CC6194A798B6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_interest AS SELECT id, semester_id, department_id, name, email, timestamp FROM team_interest');
        $this->addSql('DROP TABLE team_interest');
        $this->addSql('CREATE TABLE team_interest (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, email VARCHAR(255) NOT NULL COLLATE BINARY, timestamp DATETIME NOT NULL, CONSTRAINT FK_D47CC6194A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_D47CC619AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO team_interest (id, semester_id, department_id, name, email, timestamp) SELECT id, semester_id, department_id, name, email, timestamp FROM __temp__team_interest');
        $this->addSql('DROP TABLE __temp__team_interest');
        $this->addSql('CREATE INDEX IDX_D47CC619AE80F5DF ON team_interest (department_id)');
        $this->addSql('CREATE INDEX IDX_D47CC6194A798B6F ON team_interest (semester_id)');
        $this->addSql('DROP INDEX IDX_1FAC0302296CD8AE');
        $this->addSql('DROP INDEX IDX_1FAC0302B1A510C4');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_interest_team AS SELECT team_interest_id, team_id FROM team_interest_team');
        $this->addSql('DROP TABLE team_interest_team');
        $this->addSql('CREATE TABLE team_interest_team (team_interest_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(team_interest_id, team_id), CONSTRAINT FK_1FAC0302B1A510C4 FOREIGN KEY (team_interest_id) REFERENCES team_interest (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_1FAC0302296CD8AE FOREIGN KEY (team_id) REFERENCES team (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO team_interest_team (team_interest_id, team_id) SELECT team_interest_id, team_id FROM __temp__team_interest_team');
        $this->addSql('DROP TABLE __temp__team_interest_team');
        $this->addSql('CREATE INDEX IDX_1FAC0302296CD8AE ON team_interest_team (team_id)');
        $this->addSql('CREATE INDEX IDX_1FAC0302B1A510C4 ON team_interest_team (team_interest_id)');
        $this->addSql('DROP INDEX IDX_B826A040DD842E46');
        $this->addSql('DROP INDEX IDX_B826A040296CD8AE');
        $this->addSql('DROP INDEX IDX_B826A04040776D10');
        $this->addSql('DROP INDEX IDX_B826A040100E9BDB');
        $this->addSql('DROP INDEX IDX_B826A040A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_membership AS SELECT id, user_id, start_semester_id, end_semester_id, team_id, position_id, deleted_team_name, is_team_leader, is_suspended FROM team_membership');
        $this->addSql('DROP TABLE team_membership');
        $this->addSql('CREATE TABLE team_membership (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, start_semester_id INTEGER DEFAULT NULL, end_semester_id INTEGER DEFAULT NULL, team_id INTEGER DEFAULT NULL, position_id INTEGER DEFAULT NULL, deleted_team_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, is_team_leader BOOLEAN NOT NULL, is_suspended BOOLEAN NOT NULL, CONSTRAINT FK_B826A040A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B826A040100E9BDB FOREIGN KEY (start_semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B826A04040776D10 FOREIGN KEY (end_semester_id) REFERENCES semester (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B826A040296CD8AE FOREIGN KEY (team_id) REFERENCES team (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B826A040DD842E46 FOREIGN KEY (position_id) REFERENCES position (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO team_membership (id, user_id, start_semester_id, end_semester_id, team_id, position_id, deleted_team_name, is_team_leader, is_suspended) SELECT id, user_id, start_semester_id, end_semester_id, team_id, position_id, deleted_team_name, is_team_leader, is_suspended FROM __temp__team_membership');
        $this->addSql('DROP TABLE __temp__team_membership');
        $this->addSql('CREATE INDEX IDX_B826A040DD842E46 ON team_membership (position_id)');
        $this->addSql('CREATE INDEX IDX_B826A040296CD8AE ON team_membership (team_id)');
        $this->addSql('CREATE INDEX IDX_B826A04040776D10 ON team_membership (end_semester_id)');
        $this->addSql('CREATE INDEX IDX_B826A040100E9BDB ON team_membership (start_semester_id)');
        $this->addSql('CREATE INDEX IDX_B826A040A76ED395 ON team_membership (user_id)');
        $this->addSql('DROP INDEX IDX_8D93D6499E9C46D5');
        $this->addSql('DROP INDEX UNIQ_8D93D649A063DE11');
        $this->addSql('DROP INDEX UNIQ_8D93D649E7927C74');
        $this->addSql('DROP INDEX UNIQ_8D93D64924A232CF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user AS SELECT id, field_of_study_id, last_name, first_name, gender, picture_path, phone, account_number, user_name, password, email, company_email, is_active, reserved_from_pop_up, last_pop_up_time, new_user_code FROM user');
        $this->addSql('DROP TABLE user');
        $this->addSql('CREATE TABLE user (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, field_of_study_id INTEGER DEFAULT NULL, last_name VARCHAR(255) NOT NULL COLLATE BINARY, first_name VARCHAR(255) NOT NULL COLLATE BINARY, gender BOOLEAN NOT NULL, picture_path VARCHAR(255) NOT NULL COLLATE BINARY, phone VARCHAR(255) NOT NULL COLLATE BINARY, account_number VARCHAR(45) DEFAULT NULL COLLATE BINARY, user_name VARCHAR(255) DEFAULT NULL COLLATE BINARY, password VARCHAR(64) DEFAULT NULL COLLATE BINARY, email VARCHAR(255) NOT NULL COLLATE BINARY, company_email VARCHAR(255) DEFAULT NULL COLLATE BINARY, is_active BOOLEAN NOT NULL, reserved_from_pop_up BOOLEAN NOT NULL, last_pop_up_time DATETIME NOT NULL, new_user_code VARCHAR(255) DEFAULT NULL COLLATE BINARY, CONSTRAINT FK_8D93D6499E9C46D5 FOREIGN KEY (field_of_study_id) REFERENCES field_of_study (id) ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO user (id, field_of_study_id, last_name, first_name, gender, picture_path, phone, account_number, user_name, password, email, company_email, is_active, reserved_from_pop_up, last_pop_up_time, new_user_code) SELECT id, field_of_study_id, last_name, first_name, gender, picture_path, phone, account_number, user_name, password, email, company_email, is_active, reserved_from_pop_up, last_pop_up_time, new_user_code FROM __temp__user');
        $this->addSql('DROP TABLE __temp__user');
        $this->addSql('CREATE INDEX IDX_8D93D6499E9C46D5 ON user (field_of_study_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_8D93D649A063DE11 ON user (company_email)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_8D93D649E7927C74 ON user (email)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_8D93D64924A232CF ON user (user_name)');
        $this->addSql('DROP INDEX IDX_2DE8C6A3D60322AC');
        $this->addSql('DROP INDEX IDX_2DE8C6A3A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_role AS SELECT user_id, role_id FROM user_role');
        $this->addSql('DROP TABLE user_role');
        $this->addSql('CREATE TABLE user_role (user_id INTEGER NOT NULL, role_id INTEGER NOT NULL, PRIMARY KEY(user_id, role_id), CONSTRAINT FK_2DE8C6A3A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_2DE8C6A3D60322AC FOREIGN KEY (role_id) REFERENCES role (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO user_role (user_id, role_id) SELECT user_id, role_id FROM __temp__user_role');
        $this->addSql('DROP TABLE __temp__user_role');
        $this->addSql('CREATE INDEX IDX_2DE8C6A3D60322AC ON user_role (role_id)');
        $this->addSql('CREATE INDEX IDX_2DE8C6A3A76ED395 ON user_role (user_id)');
        $this->addSql('DROP INDEX IDX_F0005A56296CD8AE');
        $this->addSql('DROP INDEX IDX_F0005A562463F7CD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_team AS SELECT user_group_collection_id, team_id FROM user_group_collection_team');
        $this->addSql('DROP TABLE user_group_collection_team');
        $this->addSql('CREATE TABLE user_group_collection_team (user_group_collection_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, team_id), CONSTRAINT FK_F0005A562463F7CD FOREIGN KEY (user_group_collection_id) REFERENCES user_group_collection (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_F0005A56296CD8AE FOREIGN KEY (team_id) REFERENCES team (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO user_group_collection_team (user_group_collection_id, team_id) SELECT user_group_collection_id, team_id FROM __temp__user_group_collection_team');
        $this->addSql('DROP TABLE __temp__user_group_collection_team');
        $this->addSql('CREATE INDEX IDX_F0005A56296CD8AE ON user_group_collection_team (team_id)');
        $this->addSql('CREATE INDEX IDX_F0005A562463F7CD ON user_group_collection_team (user_group_collection_id)');
        $this->addSql('DROP INDEX IDX_D23014B74A798B6F');
        $this->addSql('DROP INDEX IDX_D23014B72463F7CD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_semester AS SELECT user_group_collection_id, semester_id FROM user_group_collection_semester');
        $this->addSql('DROP TABLE user_group_collection_semester');
        $this->addSql('CREATE TABLE user_group_collection_semester (user_group_collection_id INTEGER NOT NULL, semester_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, semester_id), CONSTRAINT FK_D23014B72463F7CD FOREIGN KEY (user_group_collection_id) REFERENCES user_group_collection (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_D23014B74A798B6F FOREIGN KEY (semester_id) REFERENCES semester (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO user_group_collection_semester (user_group_collection_id, semester_id) SELECT user_group_collection_id, semester_id FROM __temp__user_group_collection_semester');
        $this->addSql('DROP TABLE __temp__user_group_collection_semester');
        $this->addSql('CREATE INDEX IDX_D23014B74A798B6F ON user_group_collection_semester (semester_id)');
        $this->addSql('CREATE INDEX IDX_D23014B72463F7CD ON user_group_collection_semester (user_group_collection_id)');
        $this->addSql('DROP INDEX IDX_B9732A00A76ED395');
        $this->addSql('DROP INDEX IDX_B9732A002463F7CD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_user AS SELECT user_group_collection_id, user_id FROM user_group_collection_user');
        $this->addSql('DROP TABLE user_group_collection_user');
        $this->addSql('CREATE TABLE user_group_collection_user (user_group_collection_id INTEGER NOT NULL, user_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, user_id), CONSTRAINT FK_B9732A002463F7CD FOREIGN KEY (user_group_collection_id) REFERENCES user_group_collection (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_B9732A00A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO user_group_collection_user (user_group_collection_id, user_id) SELECT user_group_collection_id, user_id FROM __temp__user_group_collection_user');
        $this->addSql('DROP TABLE __temp__user_group_collection_user');
        $this->addSql('CREATE INDEX IDX_B9732A00A76ED395 ON user_group_collection_user (user_id)');
        $this->addSql('CREATE INDEX IDX_B9732A002463F7CD ON user_group_collection_user (user_group_collection_id)');
        $this->addSql('DROP INDEX IDX_9D930B06AE80F5DF');
        $this->addSql('DROP INDEX IDX_9D930B062463F7CD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_department AS SELECT user_group_collection_id, department_id FROM user_group_collection_department');
        $this->addSql('DROP TABLE user_group_collection_department');
        $this->addSql('CREATE TABLE user_group_collection_department (user_group_collection_id INTEGER NOT NULL, department_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, department_id), CONSTRAINT FK_9D930B062463F7CD FOREIGN KEY (user_group_collection_id) REFERENCES user_group_collection (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_9D930B06AE80F5DF FOREIGN KEY (department_id) REFERENCES department (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO user_group_collection_department (user_group_collection_id, department_id) SELECT user_group_collection_id, department_id FROM __temp__user_group_collection_department');
        $this->addSql('DROP TABLE __temp__user_group_collection_department');
        $this->addSql('CREATE INDEX IDX_9D930B06AE80F5DF ON user_group_collection_department (department_id)');
        $this->addSql('CREATE INDEX IDX_9D930B062463F7CD ON user_group_collection_department (user_group_collection_id)');
        $this->addSql('DROP INDEX IDX_4A6478172463F7CD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__usergroup AS SELECT id, user_group_collection_id, name, active FROM usergroup');
        $this->addSql('DROP TABLE usergroup');
        $this->addSql('CREATE TABLE usergroup (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_group_collection_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL COLLATE BINARY, active BOOLEAN NOT NULL, CONSTRAINT FK_4A6478172463F7CD FOREIGN KEY (user_group_collection_id) REFERENCES user_group_collection (id) NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO usergroup (id, user_group_collection_id, name, active) SELECT id, user_group_collection_id, name, active FROM __temp__usergroup');
        $this->addSql('DROP TABLE __temp__usergroup');
        $this->addSql('CREATE INDEX IDX_4A6478172463F7CD ON usergroup (user_group_collection_id)');
        $this->addSql('DROP INDEX IDX_3AE4BD5A76ED395');
        $this->addSql('DROP INDEX IDX_3AE4BD51ED93D47');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_user AS SELECT user_group_id, user_id FROM user_group_user');
        $this->addSql('DROP TABLE user_group_user');
        $this->addSql('CREATE TABLE user_group_user (user_group_id INTEGER NOT NULL, user_id INTEGER NOT NULL, PRIMARY KEY(user_group_id, user_id), CONSTRAINT FK_3AE4BD51ED93D47 FOREIGN KEY (user_group_id) REFERENCES usergroup (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_3AE4BD5A76ED395 FOREIGN KEY (user_id) REFERENCES user (id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE)');
        $this->addSql('INSERT INTO user_group_user (user_group_id, user_id) SELECT user_group_id, user_id FROM __temp__user_group_user');
        $this->addSql('DROP TABLE __temp__user_group_user');
        $this->addSql('CREATE INDEX IDX_3AE4BD5A76ED395 ON user_group_user (user_id)');
        $this->addSql('CREATE INDEX IDX_3AE4BD51ED93D47 ON user_group_user (user_group_id)');
    }

    public function down(Schema $schema) : void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->addSql('DROP INDEX IDX_551EC0E6BC6BD944');
        $this->addSql('DROP INDEX IDX_551EC0E6D60322AC');
        $this->addSql('CREATE TEMPORARY TABLE __temp__access_rule_role AS SELECT access_rule_id, role_id FROM access_rule_role');
        $this->addSql('DROP TABLE access_rule_role');
        $this->addSql('CREATE TABLE access_rule_role (access_rule_id INTEGER NOT NULL, role_id INTEGER NOT NULL, PRIMARY KEY(access_rule_id, role_id))');
        $this->addSql('INSERT INTO access_rule_role (access_rule_id, role_id) SELECT access_rule_id, role_id FROM __temp__access_rule_role');
        $this->addSql('DROP TABLE __temp__access_rule_role');
        $this->addSql('CREATE INDEX IDX_551EC0E6BC6BD944 ON access_rule_role (access_rule_id)');
        $this->addSql('CREATE INDEX IDX_551EC0E6D60322AC ON access_rule_role (role_id)');
        $this->addSql('DROP INDEX IDX_C697EC93BC6BD944');
        $this->addSql('DROP INDEX IDX_C697EC93296CD8AE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__access_rule_team AS SELECT access_rule_id, team_id FROM access_rule_team');
        $this->addSql('DROP TABLE access_rule_team');
        $this->addSql('CREATE TABLE access_rule_team (access_rule_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(access_rule_id, team_id))');
        $this->addSql('INSERT INTO access_rule_team (access_rule_id, team_id) SELECT access_rule_id, team_id FROM __temp__access_rule_team');
        $this->addSql('DROP TABLE __temp__access_rule_team');
        $this->addSql('CREATE INDEX IDX_C697EC93BC6BD944 ON access_rule_team (access_rule_id)');
        $this->addSql('CREATE INDEX IDX_C697EC93296CD8AE ON access_rule_team (team_id)');
        $this->addSql('DROP INDEX IDX_8FE49CC5BC6BD944');
        $this->addSql('DROP INDEX IDX_8FE49CC5A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__access_rule_user AS SELECT access_rule_id, user_id FROM access_rule_user');
        $this->addSql('DROP TABLE access_rule_user');
        $this->addSql('CREATE TABLE access_rule_user (access_rule_id INTEGER NOT NULL, user_id INTEGER NOT NULL, PRIMARY KEY(access_rule_id, user_id))');
        $this->addSql('INSERT INTO access_rule_user (access_rule_id, user_id) SELECT access_rule_id, user_id FROM __temp__access_rule_user');
        $this->addSql('DROP TABLE __temp__access_rule_user');
        $this->addSql('CREATE INDEX IDX_8FE49CC5BC6BD944 ON access_rule_user (access_rule_id)');
        $this->addSql('CREATE INDEX IDX_8FE49CC5A76ED395 ON access_rule_user (user_id)');
        $this->addSql('DROP INDEX IDX_EBEBA8557808B1AD');
        $this->addSql('DROP INDEX IDX_EBEBA8554A798B6F');
        $this->addSql('DROP INDEX IDX_EBEBA855AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__admission_notification AS SELECT id, subscriber_id, semester_id, department_id, timestamp, info_meeting FROM admission_notification');
        $this->addSql('DROP TABLE admission_notification');
        $this->addSql('CREATE TABLE admission_notification (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, subscriber_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, timestamp DATETIME NOT NULL, info_meeting BOOLEAN NOT NULL)');
        $this->addSql('INSERT INTO admission_notification (id, subscriber_id, semester_id, department_id, timestamp, info_meeting) SELECT id, subscriber_id, semester_id, department_id, timestamp, info_meeting FROM __temp__admission_notification');
        $this->addSql('DROP TABLE __temp__admission_notification');
        $this->addSql('CREATE INDEX IDX_EBEBA8557808B1AD ON admission_notification (subscriber_id)');
        $this->addSql('CREATE INDEX IDX_EBEBA8554A798B6F ON admission_notification (semester_id)');
        $this->addSql('CREATE INDEX IDX_EBEBA855AE80F5DF ON admission_notification (department_id)');
        $this->addSql('DROP INDEX IDX_FF2BCA84AE80F5DF');
        $this->addSql('DROP INDEX UNIQ_FF2BCA843F860130');
        $this->addSql('DROP INDEX IDX_FF2BCA844A798B6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__admission_period AS SELECT id, department_id, info_meeting_id, semester_id, start_date, end_date FROM admission_period');
        $this->addSql('DROP TABLE admission_period');
        $this->addSql('CREATE TABLE admission_period (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, info_meeting_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, start_date DATETIME NOT NULL, end_date DATETIME NOT NULL)');
        $this->addSql('INSERT INTO admission_period (id, department_id, info_meeting_id, semester_id, start_date, end_date) SELECT id, department_id, info_meeting_id, semester_id, start_date, end_date FROM __temp__admission_period');
        $this->addSql('DROP TABLE __temp__admission_period');
        $this->addSql('CREATE INDEX IDX_FF2BCA84AE80F5DF ON admission_period (department_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_FF2BCA843F860130 ON admission_period (info_meeting_id)');
        $this->addSql('CREATE INDEX IDX_FF2BCA844A798B6F ON admission_period (semester_id)');
        $this->addSql('DROP INDEX IDX_4F497EB7AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__admission_subscriber AS SELECT id, department_id, email, timestamp, unsubscribe_code, from_application, info_meeting FROM admission_subscriber');
        $this->addSql('DROP TABLE admission_subscriber');
        $this->addSql('CREATE TABLE admission_subscriber (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, email VARCHAR(255) NOT NULL, timestamp DATETIME NOT NULL, unsubscribe_code VARCHAR(255) NOT NULL, from_application BOOLEAN DEFAULT \'0\' NOT NULL, info_meeting BOOLEAN DEFAULT \'0\' NOT NULL)');
        $this->addSql('INSERT INTO admission_subscriber (id, department_id, email, timestamp, unsubscribe_code, from_application, info_meeting) SELECT id, department_id, email, timestamp, unsubscribe_code, from_application, info_meeting FROM __temp__admission_subscriber');
        $this->addSql('DROP TABLE __temp__admission_subscriber');
        $this->addSql('CREATE INDEX IDX_4F497EB7AE80F5DF ON admission_subscriber (department_id)');
        $this->addSql('DROP INDEX IDX_A45BDDC11DD4B017');
        $this->addSql('DROP INDEX IDX_A45BDDC1A76ED395');
        $this->addSql('DROP INDEX UNIQ_A45BDDC155D69D95');
        $this->addSql('CREATE TEMPORARY TABLE __temp__application AS SELECT id, admission_period_id, user_id, interview_id, year_of_study, monday, tuesday, wednesday, thursday, friday, substitute, language, double_position, preferred_group, preferred_school, previous_participation, last_edited, created, heard_about_from, team_interest, special_needs FROM application');
        $this->addSql('DROP TABLE application');
        $this->addSql('CREATE TABLE application (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, admission_period_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, interview_id INTEGER DEFAULT NULL, year_of_study VARCHAR(20) NOT NULL, monday BOOLEAN DEFAULT \'1\' NOT NULL, tuesday BOOLEAN DEFAULT \'1\' NOT NULL, wednesday BOOLEAN DEFAULT \'1\' NOT NULL, thursday BOOLEAN DEFAULT \'1\' NOT NULL, friday BOOLEAN DEFAULT \'1\' NOT NULL, substitute BOOLEAN DEFAULT \'0\' NOT NULL, language VARCHAR(255) DEFAULT NULL, double_position BOOLEAN DEFAULT \'0\' NOT NULL, preferred_group VARCHAR(255) DEFAULT NULL, preferred_school VARCHAR(255) DEFAULT NULL, previous_participation BOOLEAN NOT NULL, last_edited DATETIME NOT NULL, created DATETIME NOT NULL, heard_about_from CLOB NOT NULL --(DC2Type:array)
        , team_interest BOOLEAN NOT NULL, special_needs VARCHAR(255) DEFAULT NULL)');
        $this->addSql('INSERT INTO application (id, admission_period_id, user_id, interview_id, year_of_study, monday, tuesday, wednesday, thursday, friday, substitute, language, double_position, preferred_group, preferred_school, previous_participation, last_edited, created, heard_about_from, team_interest, special_needs) SELECT id, admission_period_id, user_id, interview_id, year_of_study, monday, tuesday, wednesday, thursday, friday, substitute, language, double_position, preferred_group, preferred_school, previous_participation, last_edited, created, heard_about_from, team_interest, special_needs FROM __temp__application');
        $this->addSql('DROP TABLE __temp__application');
        $this->addSql('CREATE INDEX IDX_A45BDDC11DD4B017 ON application (admission_period_id)');
        $this->addSql('CREATE INDEX IDX_A45BDDC1A76ED395 ON application (user_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_A45BDDC155D69D95 ON application (interview_id)');
        $this->addSql('DROP INDEX IDX_330CCE973E030ACD');
        $this->addSql('DROP INDEX IDX_330CCE97296CD8AE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__application_team AS SELECT application_id, team_id FROM application_team');
        $this->addSql('DROP TABLE application_team');
        $this->addSql('CREATE TABLE application_team (application_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(application_id, team_id))');
        $this->addSql('INSERT INTO application_team (application_id, team_id) SELECT application_id, team_id FROM __temp__application_team');
        $this->addSql('DROP TABLE __temp__application_team');
        $this->addSql('CREATE INDEX IDX_330CCE973E030ACD ON application_team (application_id)');
        $this->addSql('CREATE INDEX IDX_330CCE97296CD8AE ON application_team (team_id)');
        $this->addSql('DROP INDEX UNIQ_23A0E66989D9B62');
        $this->addSql('DROP INDEX IDX_23A0E66F675F31B');
        $this->addSql('CREATE TEMPORARY TABLE __temp__article AS SELECT id, author_id, title, slug, article, image_large, image_small, created, updated, sticky, published FROM article');
        $this->addSql('DROP TABLE article');
        $this->addSql('CREATE TABLE article (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, author_id INTEGER DEFAULT NULL, title VARCHAR(255) NOT NULL, slug VARCHAR(255) NOT NULL, article CLOB NOT NULL, image_large VARCHAR(255) NOT NULL, image_small VARCHAR(255) NOT NULL, created DATETIME NOT NULL, updated DATETIME NOT NULL, sticky BOOLEAN NOT NULL, published BOOLEAN DEFAULT NULL)');
        $this->addSql('INSERT INTO article (id, author_id, title, slug, article, image_large, image_small, created, updated, sticky, published) SELECT id, author_id, title, slug, article, image_large, image_small, created, updated, sticky, published FROM __temp__article');
        $this->addSql('DROP TABLE __temp__article');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_23A0E66989D9B62 ON article (slug)');
        $this->addSql('CREATE INDEX IDX_23A0E66F675F31B ON article (author_id)');
        $this->addSql('DROP INDEX IDX_B29B8FB57294869C');
        $this->addSql('DROP INDEX IDX_B29B8FB5AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__articles_departments AS SELECT article_id, department_id FROM articles_departments');
        $this->addSql('DROP TABLE articles_departments');
        $this->addSql('CREATE TABLE articles_departments (article_id INTEGER NOT NULL, department_id INTEGER NOT NULL, PRIMARY KEY(article_id, department_id))');
        $this->addSql('INSERT INTO articles_departments (article_id, department_id) SELECT article_id, department_id FROM __temp__articles_departments');
        $this->addSql('DROP TABLE __temp__articles_departments');
        $this->addSql('CREATE INDEX IDX_B29B8FB57294869C ON articles_departments (article_id)');
        $this->addSql('CREATE INDEX IDX_B29B8FB5AE80F5DF ON articles_departments (department_id)');
        $this->addSql('DROP INDEX IDX_1B31A1DBA76ED395');
        $this->addSql('DROP INDEX IDX_1B31A1DB4A798B6F');
        $this->addSql('DROP INDEX IDX_1B31A1DBAE80F5DF');
        $this->addSql('DROP INDEX IDX_1B31A1DBC32A47EE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__assistant_history AS SELECT id, user_id, semester_id, department_id, school_id, workdays, bolk, day FROM assistant_history');
        $this->addSql('DROP TABLE assistant_history');
        $this->addSql('CREATE TABLE assistant_history (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, school_id INTEGER DEFAULT NULL, workdays VARCHAR(255) NOT NULL, bolk VARCHAR(255) DEFAULT NULL, day VARCHAR(255) NOT NULL)');
        $this->addSql('INSERT INTO assistant_history (id, user_id, semester_id, department_id, school_id, workdays, bolk, day) SELECT id, user_id, semester_id, department_id, school_id, workdays, bolk, day FROM __temp__assistant_history');
        $this->addSql('DROP TABLE __temp__assistant_history');
        $this->addSql('CREATE INDEX IDX_1B31A1DBA76ED395 ON assistant_history (user_id)');
        $this->addSql('CREATE INDEX IDX_1B31A1DB4A798B6F ON assistant_history (semester_id)');
        $this->addSql('CREATE INDEX IDX_1B31A1DBAE80F5DF ON assistant_history (department_id)');
        $this->addSql('CREATE INDEX IDX_1B31A1DBC32A47EE ON assistant_history (school_id)');
        $this->addSql('DROP INDEX IDX_6E343C40A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__certificate_request AS SELECT id, user_id FROM certificate_request');
        $this->addSql('DROP TABLE certificate_request');
        $this->addSql('CREATE TABLE certificate_request (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL)');
        $this->addSql('INSERT INTO certificate_request (id, user_id) SELECT id, user_id FROM __temp__certificate_request');
        $this->addSql('DROP TABLE __temp__certificate_request');
        $this->addSql('CREATE INDEX IDX_6E343C40A76ED395 ON certificate_request (user_id)');
        $this->addSql('DROP INDEX IDX_ED84254BAE80F5DF');
        $this->addSql('DROP INDEX IDX_ED84254BC32A47EE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__department_school AS SELECT department_id, school_id FROM department_school');
        $this->addSql('DROP TABLE department_school');
        $this->addSql('CREATE TABLE department_school (department_id INTEGER NOT NULL, school_id INTEGER NOT NULL, PRIMARY KEY(department_id, school_id))');
        $this->addSql('INSERT INTO department_school (department_id, school_id) SELECT department_id, school_id FROM __temp__department_school');
        $this->addSql('DROP TABLE __temp__department_school');
        $this->addSql('CREATE INDEX IDX_ED84254BAE80F5DF ON department_school (department_id)');
        $this->addSql('CREATE INDEX IDX_ED84254BC32A47EE ON department_school (school_id)');
        $this->addSql('DROP INDEX IDX_3BAE0AA7AE80F5DF');
        $this->addSql('DROP INDEX IDX_3BAE0AA74A798B6F');
        $this->addSql('DROP INDEX IDX_3BAE0AA7D60322AC');
        $this->addSql('CREATE TEMPORARY TABLE __temp__event AS SELECT id, department_id, semester_id, role_id, title, description, start_time, end_time, link FROM event');
        $this->addSql('DROP TABLE event');
        $this->addSql('CREATE TABLE event (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, role_id INTEGER DEFAULT NULL, title VARCHAR(255) NOT NULL, start_time DATETIME NOT NULL, end_time DATETIME NOT NULL, link VARCHAR(250) DEFAULT NULL, description CLOB NOT NULL COLLATE BINARY)');
        $this->addSql('INSERT INTO event (id, department_id, semester_id, role_id, title, description, start_time, end_time, link) SELECT id, department_id, semester_id, role_id, title, description, start_time, end_time, link FROM __temp__event');
        $this->addSql('DROP TABLE __temp__event');
        $this->addSql('CREATE INDEX IDX_3BAE0AA7AE80F5DF ON event (department_id)');
        $this->addSql('CREATE INDEX IDX_3BAE0AA74A798B6F ON event (semester_id)');
        $this->addSql('CREATE INDEX IDX_3BAE0AA7D60322AC ON event (role_id)');
        $this->addSql('DROP INDEX IDX_F6490587A76ED395');
        $this->addSql('DROP INDEX IDX_F6490587E7EC5785');
        $this->addSql('DROP INDEX IDX_F6490587100E9BDB');
        $this->addSql('DROP INDEX IDX_F649058740776D10');
        $this->addSql('CREATE TEMPORARY TABLE __temp__executive_board_membership AS SELECT id, user_id, board_id, start_semester_id, end_semester_id, position_name FROM executive_board_membership');
        $this->addSql('DROP TABLE executive_board_membership');
        $this->addSql('CREATE TABLE executive_board_membership (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, board_id INTEGER DEFAULT NULL, start_semester_id INTEGER DEFAULT NULL, end_semester_id INTEGER DEFAULT NULL, position_name CLOB DEFAULT NULL)');
        $this->addSql('INSERT INTO executive_board_membership (id, user_id, board_id, start_semester_id, end_semester_id, position_name) SELECT id, user_id, board_id, start_semester_id, end_semester_id, position_name FROM __temp__executive_board_membership');
        $this->addSql('DROP TABLE __temp__executive_board_membership');
        $this->addSql('CREATE INDEX IDX_F6490587A76ED395 ON executive_board_membership (user_id)');
        $this->addSql('CREATE INDEX IDX_F6490587E7EC5785 ON executive_board_membership (board_id)');
        $this->addSql('CREATE INDEX IDX_F6490587100E9BDB ON executive_board_membership (start_semester_id)');
        $this->addSql('CREATE INDEX IDX_F649058740776D10 ON executive_board_membership (end_semester_id)');
        $this->addSql('DROP INDEX IDX_D2294458A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__feedback AS SELECT id, user_id, title, description, type, created_at FROM feedback');
        $this->addSql('DROP TABLE feedback');
        $this->addSql('CREATE TABLE feedback (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, title VARCHAR(55) NOT NULL, description VARCHAR(500) NOT NULL, type VARCHAR(45) NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL)');
        $this->addSql('INSERT INTO feedback (id, user_id, title, description, type, created_at) SELECT id, user_id, title, description, type, created_at FROM __temp__feedback');
        $this->addSql('DROP TABLE __temp__feedback');
        $this->addSql('CREATE INDEX IDX_D2294458A76ED395 ON feedback (user_id)');
        $this->addSql('DROP INDEX IDX_8F32491AAE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__field_of_study AS SELECT id, department_id, name, short_name FROM field_of_study');
        $this->addSql('DROP TABLE field_of_study');
        $this->addSql('CREATE TABLE field_of_study (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(250) NOT NULL, short_name VARCHAR(50) NOT NULL)');
        $this->addSql('INSERT INTO field_of_study (id, department_id, name, short_name) SELECT id, department_id, name, short_name FROM __temp__field_of_study');
        $this->addSql('DROP TABLE __temp__field_of_study');
        $this->addSql('CREATE INDEX IDX_8F32491AAE80F5DF ON field_of_study (department_id)');
        $this->addSql('DROP INDEX IDX_CF1D3C34EA1BEF35');
        $this->addSql('DROP INDEX IDX_CF1D3C347906D9E8');
        $this->addSql('DROP INDEX IDX_CF1D3C342C97900A');
        $this->addSql('DROP INDEX UNIQ_CF1D3C347B23C9B2');
        $this->addSql('DROP INDEX IDX_CF1D3C34A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview AS SELECT id, schema_id, interviewer_id, co_interviewer_id, interview_score_id, user_id, interviewed, scheduled, last_schedule_changed, room, campus, map_link, conducted, interview_status, response_code, cancel_message, new_time_message, num_accept_interview_reminders_sent FROM interview');
        $this->addSql('DROP TABLE interview');
        $this->addSql('CREATE TABLE interview (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, schema_id INTEGER DEFAULT NULL, interviewer_id INTEGER DEFAULT NULL, co_interviewer_id INTEGER DEFAULT NULL, interview_score_id INTEGER DEFAULT NULL, user_id INTEGER DEFAULT NULL, interviewed BOOLEAN NOT NULL, scheduled DATETIME DEFAULT NULL, last_schedule_changed DATETIME DEFAULT NULL, room VARCHAR(255) DEFAULT NULL, campus VARCHAR(255) DEFAULT NULL, map_link VARCHAR(500) DEFAULT NULL, conducted DATETIME DEFAULT NULL, interview_status INTEGER NOT NULL, response_code VARCHAR(255) DEFAULT NULL, cancel_message VARCHAR(2000) DEFAULT NULL, new_time_message VARCHAR(2000) NOT NULL, num_accept_interview_reminders_sent INTEGER DEFAULT 0 NOT NULL)');
        $this->addSql('INSERT INTO interview (id, schema_id, interviewer_id, co_interviewer_id, interview_score_id, user_id, interviewed, scheduled, last_schedule_changed, room, campus, map_link, conducted, interview_status, response_code, cancel_message, new_time_message, num_accept_interview_reminders_sent) SELECT id, schema_id, interviewer_id, co_interviewer_id, interview_score_id, user_id, interviewed, scheduled, last_schedule_changed, room, campus, map_link, conducted, interview_status, response_code, cancel_message, new_time_message, num_accept_interview_reminders_sent FROM __temp__interview');
        $this->addSql('DROP TABLE __temp__interview');
        $this->addSql('CREATE INDEX IDX_CF1D3C34EA1BEF35 ON interview (schema_id)');
        $this->addSql('CREATE INDEX IDX_CF1D3C347906D9E8 ON interview (interviewer_id)');
        $this->addSql('CREATE INDEX IDX_CF1D3C342C97900A ON interview (co_interviewer_id)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CF1D3C347B23C9B2 ON interview (interview_score_id)');
        $this->addSql('CREATE INDEX IDX_CF1D3C34A76ED395 ON interview (user_id)');
        $this->addSql('DROP INDEX IDX_BA24465255D69D95');
        $this->addSql('DROP INDEX IDX_BA2446521E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_answer AS SELECT id, interview_id, question_id, answer FROM interview_answer');
        $this->addSql('DROP TABLE interview_answer');
        $this->addSql('CREATE TABLE interview_answer (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, interview_id INTEGER DEFAULT NULL, question_id INTEGER DEFAULT NULL, answer CLOB DEFAULT NULL --(DC2Type:array)
        )');
        $this->addSql('INSERT INTO interview_answer (id, interview_id, question_id, answer) SELECT id, interview_id, question_id, answer FROM __temp__interview_answer');
        $this->addSql('DROP TABLE __temp__interview_answer');
        $this->addSql('CREATE INDEX IDX_BA24465255D69D95 ON interview_answer (interview_id)');
        $this->addSql('CREATE INDEX IDX_BA2446521E27F6BF ON interview_answer (question_id)');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_question AS SELECT id, question, help, type FROM interview_question');
        $this->addSql('DROP TABLE interview_question');
        $this->addSql('CREATE TABLE interview_question (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, type VARCHAR(255) NOT NULL, question CLOB NOT NULL COLLATE BINARY, help CLOB DEFAULT NULL COLLATE BINARY)');
        $this->addSql('INSERT INTO interview_question (id, question, help, type) SELECT id, question, help, type FROM __temp__interview_question');
        $this->addSql('DROP TABLE __temp__interview_question');
        $this->addSql('DROP INDEX IDX_711360B41E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_question_alternative AS SELECT id, question_id, alternative FROM interview_question_alternative');
        $this->addSql('DROP TABLE interview_question_alternative');
        $this->addSql('CREATE TABLE interview_question_alternative (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, question_id INTEGER DEFAULT NULL, alternative VARCHAR(255) NOT NULL)');
        $this->addSql('INSERT INTO interview_question_alternative (id, question_id, alternative) SELECT id, question_id, alternative FROM __temp__interview_question_alternative');
        $this->addSql('DROP TABLE __temp__interview_question_alternative');
        $this->addSql('CREATE INDEX IDX_711360B41E27F6BF ON interview_question_alternative (question_id)');
        $this->addSql('DROP INDEX IDX_F5387490EA1BEF35');
        $this->addSql('DROP INDEX IDX_F53874901E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__interview_schemas_questions AS SELECT schema_id, question_id FROM interview_schemas_questions');
        $this->addSql('DROP TABLE interview_schemas_questions');
        $this->addSql('CREATE TABLE interview_schemas_questions (schema_id INTEGER NOT NULL, question_id INTEGER NOT NULL, PRIMARY KEY(schema_id, question_id))');
        $this->addSql('INSERT INTO interview_schemas_questions (schema_id, question_id) SELECT schema_id, question_id FROM __temp__interview_schemas_questions');
        $this->addSql('DROP TABLE __temp__interview_schemas_questions');
        $this->addSql('CREATE INDEX IDX_F5387490EA1BEF35 ON interview_schemas_questions (schema_id)');
        $this->addSql('CREATE INDEX IDX_F53874901E27F6BF ON interview_schemas_questions (question_id)');
        $this->addSql('DROP INDEX IDX_B10172528D93D649');
        $this->addSql('CREATE TEMPORARY TABLE __temp__password_reset AS SELECT id, user, hashed_reset_code, reset_time FROM password_reset');
        $this->addSql('DROP TABLE password_reset');
        $this->addSql('CREATE TABLE password_reset (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user INTEGER DEFAULT NULL, hashed_reset_code VARCHAR(255) NOT NULL, reset_time DATETIME NOT NULL)');
        $this->addSql('INSERT INTO password_reset (id, user, hashed_reset_code, reset_time) SELECT id, user, hashed_reset_code, reset_time FROM __temp__password_reset');
        $this->addSql('DROP TABLE __temp__password_reset');
        $this->addSql('CREATE INDEX IDX_B10172528D93D649 ON password_reset (user)');
        $this->addSql('DROP INDEX IDX_5399B645A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__receipt AS SELECT id, user_id, submit_date, receipt_date, refund_date, picture_path, description, sum, status, visual_id FROM receipt');
        $this->addSql('DROP TABLE receipt');
        $this->addSql('CREATE TABLE receipt (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, submit_date DATETIME DEFAULT NULL, receipt_date DATETIME NOT NULL, refund_date DATETIME DEFAULT NULL, picture_path VARCHAR(255) DEFAULT NULL, sum DOUBLE PRECISION NOT NULL, status VARCHAR(255) NOT NULL, visual_id VARCHAR(255) DEFAULT NULL, description CLOB NOT NULL COLLATE BINARY)');
        $this->addSql('INSERT INTO receipt (id, user_id, submit_date, receipt_date, refund_date, picture_path, description, sum, status, visual_id) SELECT id, user_id, submit_date, receipt_date, refund_date, picture_path, description, sum, status, visual_id FROM __temp__receipt');
        $this->addSql('DROP TABLE __temp__receipt');
        $this->addSql('CREATE INDEX IDX_5399B645A76ED395 ON receipt (user_id)');
        $this->addSql('DROP INDEX IDX_4BAE8530C32A47EE');
        $this->addSql('DROP INDEX IDX_4BAE85304A798B6F');
        $this->addSql('DROP INDEX IDX_4BAE8530AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__school_capacity AS SELECT id, school_id, semester_id, department_id, monday, tuesday, wednesday, thursday, friday FROM school_capacity');
        $this->addSql('DROP TABLE school_capacity');
        $this->addSql('CREATE TABLE school_capacity (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, school_id INTEGER DEFAULT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, monday INTEGER NOT NULL, tuesday INTEGER NOT NULL, wednesday INTEGER NOT NULL, thursday INTEGER NOT NULL, friday INTEGER NOT NULL)');
        $this->addSql('INSERT INTO school_capacity (id, school_id, semester_id, department_id, monday, tuesday, wednesday, thursday, friday) SELECT id, school_id, semester_id, department_id, monday, tuesday, wednesday, thursday, friday FROM __temp__school_capacity');
        $this->addSql('DROP TABLE __temp__school_capacity');
        $this->addSql('CREATE INDEX IDX_4BAE8530C32A47EE ON school_capacity (school_id)');
        $this->addSql('CREATE INDEX IDX_4BAE85304A798B6F ON school_capacity (semester_id)');
        $this->addSql('CREATE INDEX IDX_4BAE8530AE80F5DF ON school_capacity (department_id)');
        $this->addSql('DROP INDEX UNIQ_AE880141A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__signature AS SELECT id, user_id, signature_path, description, additional_comment FROM signature');
        $this->addSql('DROP TABLE signature');
        $this->addSql('CREATE TABLE signature (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, signature_path VARCHAR(45) DEFAULT NULL, description VARCHAR(250) NOT NULL, additional_comment VARCHAR(500) DEFAULT NULL)');
        $this->addSql('INSERT INTO signature (id, user_id, signature_path, description, additional_comment) SELECT id, user_id, signature_path, description, additional_comment FROM __temp__signature');
        $this->addSql('DROP TABLE __temp__signature');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_AE880141A76ED395 ON signature (user_id)');
        $this->addSql('DROP INDEX IDX_AD5F9BFC4A798B6F');
        $this->addSql('DROP INDEX IDX_AD5F9BFCAE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey AS SELECT id, semester_id, department_id, name, show_custom_pop_up_message, finish_page_content, confidential, target_audience, survey_pop_up_message FROM survey');
        $this->addSql('DROP TABLE survey');
        $this->addSql('CREATE TABLE survey (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL, show_custom_pop_up_message BOOLEAN NOT NULL, finish_page_content CLOB DEFAULT NULL, confidential BOOLEAN DEFAULT \'0\' NOT NULL, target_audience INTEGER DEFAULT 0 NOT NULL, survey_pop_up_message CLOB DEFAULT \'Svar på undersøkelse!\' NOT NULL)');
        $this->addSql('INSERT INTO survey (id, semester_id, department_id, name, show_custom_pop_up_message, finish_page_content, confidential, target_audience, survey_pop_up_message) SELECT id, semester_id, department_id, name, show_custom_pop_up_message, finish_page_content, confidential, target_audience, survey_pop_up_message FROM __temp__survey');
        $this->addSql('DROP TABLE __temp__survey');
        $this->addSql('CREATE INDEX IDX_AD5F9BFC4A798B6F ON survey (semester_id)');
        $this->addSql('CREATE INDEX IDX_AD5F9BFCAE80F5DF ON survey (department_id)');
        $this->addSql('DROP INDEX IDX_F2D382491E27F6BF');
        $this->addSql('DROP INDEX IDX_F2D382494D16DAC3');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_answer AS SELECT id, question_id, survey_taken_id, answer, answer_array FROM survey_answer');
        $this->addSql('DROP TABLE survey_answer');
        $this->addSql('CREATE TABLE survey_answer (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, question_id INTEGER DEFAULT NULL, survey_taken_id INTEGER DEFAULT NULL, answer CLOB DEFAULT NULL, answer_array CLOB DEFAULT NULL --(DC2Type:array)
        )');
        $this->addSql('INSERT INTO survey_answer (id, question_id, survey_taken_id, answer, answer_array) SELECT id, question_id, survey_taken_id, answer, answer_array FROM __temp__survey_answer');
        $this->addSql('DROP TABLE __temp__survey_answer');
        $this->addSql('CREATE INDEX IDX_F2D382491E27F6BF ON survey_answer (question_id)');
        $this->addSql('CREATE INDEX IDX_F2D382494D16DAC3 ON survey_answer (survey_taken_id)');
        $this->addSql('DROP INDEX IDX_503794C9EF1A9D84');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_link_click AS SELECT id, notification_id, time_of_visit FROM survey_link_click');
        $this->addSql('DROP TABLE survey_link_click');
        $this->addSql('CREATE TABLE survey_link_click (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, notification_id INTEGER DEFAULT NULL, time_of_visit DATETIME NOT NULL)');
        $this->addSql('INSERT INTO survey_link_click (id, notification_id, time_of_visit) SELECT id, notification_id, time_of_visit FROM __temp__survey_link_click');
        $this->addSql('DROP TABLE __temp__survey_link_click');
        $this->addSql('CREATE INDEX IDX_503794C9EF1A9D84 ON survey_link_click (notification_id)');
        $this->addSql('DROP INDEX UNIQ_CF867A9AD0494586');
        $this->addSql('DROP INDEX IDX_CF867A9AA76ED395');
        $this->addSql('DROP INDEX IDX_CF867A9AF4EF17D2');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_notification AS SELECT id, user_id, survey_notification_collection_id, time_notification_Sent, user_identifier, sent FROM survey_notification');
        $this->addSql('DROP TABLE survey_notification');
        $this->addSql('CREATE TABLE survey_notification (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, survey_notification_collection_id INTEGER DEFAULT NULL, time_notification_Sent DATETIME DEFAULT NULL, user_identifier VARCHAR(255) NOT NULL, sent BOOLEAN NOT NULL)');
        $this->addSql('INSERT INTO survey_notification (id, user_id, survey_notification_collection_id, time_notification_Sent, user_identifier, sent) SELECT id, user_id, survey_notification_collection_id, time_notification_Sent, user_identifier, sent FROM __temp__survey_notification');
        $this->addSql('DROP TABLE __temp__survey_notification');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_CF867A9AD0494586 ON survey_notification (user_identifier)');
        $this->addSql('CREATE INDEX IDX_CF867A9AA76ED395 ON survey_notification (user_id)');
        $this->addSql('CREATE INDEX IDX_CF867A9AF4EF17D2 ON survey_notification (survey_notification_collection_id)');
        $this->addSql('DROP INDEX IDX_F31C0595B3FE509D');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_notification_collection AS SELECT id, survey_id, name, time_of_notification, notification_type, all_sent, active, sms_message, email_from_name, email_subject, email_message, email_end_message, email_type FROM survey_notification_collection');
        $this->addSql('DROP TABLE survey_notification_collection');
        $this->addSql('CREATE TABLE survey_notification_collection (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, survey_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL, time_of_notification DATETIME NOT NULL, notification_type INTEGER NOT NULL, all_sent BOOLEAN NOT NULL, active BOOLEAN DEFAULT \'0\' NOT NULL, sms_message VARCHAR(255) NOT NULL, email_from_name VARCHAR(255) NOT NULL, email_subject VARCHAR(255) NOT NULL, email_message CLOB NOT NULL, email_end_message CLOB NOT NULL, email_type INTEGER NOT NULL)');
        $this->addSql('INSERT INTO survey_notification_collection (id, survey_id, name, time_of_notification, notification_type, all_sent, active, sms_message, email_from_name, email_subject, email_message, email_end_message, email_type) SELECT id, survey_id, name, time_of_notification, notification_type, all_sent, active, sms_message, email_from_name, email_subject, email_message, email_end_message, email_type FROM __temp__survey_notification_collection');
        $this->addSql('DROP TABLE __temp__survey_notification_collection');
        $this->addSql('CREATE INDEX IDX_F31C0595B3FE509D ON survey_notification_collection (survey_id)');
        $this->addSql('DROP INDEX IDX_99307B7BF4EF17D2');
        $this->addSql('DROP INDEX IDX_99307B7B1ED93D47');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_notification_collection_user_group AS SELECT survey_notification_collection_id, user_group_id FROM survey_notification_collection_user_group');
        $this->addSql('DROP TABLE survey_notification_collection_user_group');
        $this->addSql('CREATE TABLE survey_notification_collection_user_group (survey_notification_collection_id INTEGER NOT NULL, user_group_id INTEGER NOT NULL, PRIMARY KEY(survey_notification_collection_id, user_group_id))');
        $this->addSql('INSERT INTO survey_notification_collection_user_group (survey_notification_collection_id, user_group_id) SELECT survey_notification_collection_id, user_group_id FROM __temp__survey_notification_collection_user_group');
        $this->addSql('DROP TABLE __temp__survey_notification_collection_user_group');
        $this->addSql('CREATE INDEX IDX_99307B7BF4EF17D2 ON survey_notification_collection_user_group (survey_notification_collection_id)');
        $this->addSql('CREATE INDEX IDX_99307B7B1ED93D47 ON survey_notification_collection_user_group (user_group_id)');
        $this->addSql('DROP INDEX IDX_D959462E1E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_question_alternative AS SELECT id, question_id, alternative FROM survey_question_alternative');
        $this->addSql('DROP TABLE survey_question_alternative');
        $this->addSql('CREATE TABLE survey_question_alternative (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, question_id INTEGER DEFAULT NULL, alternative VARCHAR(255) NOT NULL)');
        $this->addSql('INSERT INTO survey_question_alternative (id, question_id, alternative) SELECT id, question_id, alternative FROM __temp__survey_question_alternative');
        $this->addSql('DROP TABLE __temp__survey_question_alternative');
        $this->addSql('CREATE INDEX IDX_D959462E1E27F6BF ON survey_question_alternative (question_id)');
        $this->addSql('DROP INDEX IDX_DD4B0A34B3FE509D');
        $this->addSql('DROP INDEX IDX_DD4B0A341E27F6BF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_surveys_questions AS SELECT survey_id, question_id FROM survey_surveys_questions');
        $this->addSql('DROP TABLE survey_surveys_questions');
        $this->addSql('CREATE TABLE survey_surveys_questions (survey_id INTEGER NOT NULL, question_id INTEGER NOT NULL, PRIMARY KEY(survey_id, question_id))');
        $this->addSql('INSERT INTO survey_surveys_questions (survey_id, question_id) SELECT survey_id, question_id FROM __temp__survey_surveys_questions');
        $this->addSql('DROP TABLE __temp__survey_surveys_questions');
        $this->addSql('CREATE INDEX IDX_DD4B0A34B3FE509D ON survey_surveys_questions (survey_id)');
        $this->addSql('CREATE INDEX IDX_DD4B0A341E27F6BF ON survey_surveys_questions (question_id)');
        $this->addSql('DROP INDEX IDX_B3982430A76ED395');
        $this->addSql('DROP INDEX IDX_B3982430C32A47EE');
        $this->addSql('DROP INDEX IDX_B3982430B3FE509D');
        $this->addSql('CREATE TEMPORARY TABLE __temp__survey_taken AS SELECT id, user_id, school_id, survey_id, time FROM survey_taken');
        $this->addSql('DROP TABLE survey_taken');
        $this->addSql('CREATE TABLE survey_taken (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, school_id INTEGER DEFAULT NULL, survey_id INTEGER DEFAULT NULL, time DATETIME NOT NULL)');
        $this->addSql('INSERT INTO survey_taken (id, user_id, school_id, survey_id, time) SELECT id, user_id, school_id, survey_id, time FROM __temp__survey_taken');
        $this->addSql('DROP TABLE __temp__survey_taken');
        $this->addSql('CREATE INDEX IDX_B3982430A76ED395 ON survey_taken (user_id)');
        $this->addSql('CREATE INDEX IDX_B3982430C32A47EE ON survey_taken (school_id)');
        $this->addSql('CREATE INDEX IDX_B3982430B3FE509D ON survey_taken (survey_id)');
        $this->addSql('DROP INDEX IDX_C4E0A61FAE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team AS SELECT id, department_id, name, email, description, short_description, accept_application, deadline, active FROM team');
        $this->addSql('DROP TABLE team');
        $this->addSql('CREATE TABLE team (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(250) NOT NULL, email VARCHAR(255) DEFAULT NULL, description CLOB DEFAULT NULL, short_description VARCHAR(255) DEFAULT NULL, accept_application BOOLEAN DEFAULT NULL, deadline DATETIME DEFAULT NULL, active BOOLEAN DEFAULT \'1\' NOT NULL)');
        $this->addSql('INSERT INTO team (id, department_id, name, email, description, short_description, accept_application, deadline, active) SELECT id, department_id, name, email, description, short_description, accept_application, deadline, active FROM __temp__team');
        $this->addSql('DROP TABLE __temp__team');
        $this->addSql('CREATE INDEX IDX_C4E0A61FAE80F5DF ON team (department_id)');
        $this->addSql('DROP INDEX IDX_4F6B328C296CD8AE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_application AS SELECT id, team_id, name, email, field_of_study, year_of_study, motivation_text, biography, phone FROM team_application');
        $this->addSql('DROP TABLE team_application');
        $this->addSql('CREATE TABLE team_application (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, team_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, field_of_study VARCHAR(255) NOT NULL, year_of_study VARCHAR(255) NOT NULL, motivation_text CLOB NOT NULL, biography CLOB NOT NULL, phone VARCHAR(255) NOT NULL)');
        $this->addSql('INSERT INTO team_application (id, team_id, name, email, field_of_study, year_of_study, motivation_text, biography, phone) SELECT id, team_id, name, email, field_of_study, year_of_study, motivation_text, biography, phone FROM __temp__team_application');
        $this->addSql('DROP TABLE __temp__team_application');
        $this->addSql('CREATE INDEX IDX_4F6B328C296CD8AE ON team_application (team_id)');
        $this->addSql('DROP INDEX IDX_D47CC6194A798B6F');
        $this->addSql('DROP INDEX IDX_D47CC619AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_interest AS SELECT id, semester_id, department_id, name, email, timestamp FROM team_interest');
        $this->addSql('DROP TABLE team_interest');
        $this->addSql('CREATE TABLE team_interest (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, semester_id INTEGER DEFAULT NULL, department_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, timestamp DATETIME NOT NULL)');
        $this->addSql('INSERT INTO team_interest (id, semester_id, department_id, name, email, timestamp) SELECT id, semester_id, department_id, name, email, timestamp FROM __temp__team_interest');
        $this->addSql('DROP TABLE __temp__team_interest');
        $this->addSql('CREATE INDEX IDX_D47CC6194A798B6F ON team_interest (semester_id)');
        $this->addSql('CREATE INDEX IDX_D47CC619AE80F5DF ON team_interest (department_id)');
        $this->addSql('DROP INDEX IDX_1FAC0302B1A510C4');
        $this->addSql('DROP INDEX IDX_1FAC0302296CD8AE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_interest_team AS SELECT team_interest_id, team_id FROM team_interest_team');
        $this->addSql('DROP TABLE team_interest_team');
        $this->addSql('CREATE TABLE team_interest_team (team_interest_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(team_interest_id, team_id))');
        $this->addSql('INSERT INTO team_interest_team (team_interest_id, team_id) SELECT team_interest_id, team_id FROM __temp__team_interest_team');
        $this->addSql('DROP TABLE __temp__team_interest_team');
        $this->addSql('CREATE INDEX IDX_1FAC0302B1A510C4 ON team_interest_team (team_interest_id)');
        $this->addSql('CREATE INDEX IDX_1FAC0302296CD8AE ON team_interest_team (team_id)');
        $this->addSql('DROP INDEX IDX_B826A040A76ED395');
        $this->addSql('DROP INDEX IDX_B826A040100E9BDB');
        $this->addSql('DROP INDEX IDX_B826A04040776D10');
        $this->addSql('DROP INDEX IDX_B826A040296CD8AE');
        $this->addSql('DROP INDEX IDX_B826A040DD842E46');
        $this->addSql('CREATE TEMPORARY TABLE __temp__team_membership AS SELECT id, user_id, start_semester_id, end_semester_id, team_id, position_id, deleted_team_name, is_team_leader, is_suspended FROM team_membership');
        $this->addSql('DROP TABLE team_membership');
        $this->addSql('CREATE TABLE team_membership (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_id INTEGER DEFAULT NULL, start_semester_id INTEGER DEFAULT NULL, end_semester_id INTEGER DEFAULT NULL, team_id INTEGER DEFAULT NULL, position_id INTEGER DEFAULT NULL, deleted_team_name VARCHAR(255) DEFAULT NULL, is_team_leader BOOLEAN NOT NULL, is_suspended BOOLEAN NOT NULL)');
        $this->addSql('INSERT INTO team_membership (id, user_id, start_semester_id, end_semester_id, team_id, position_id, deleted_team_name, is_team_leader, is_suspended) SELECT id, user_id, start_semester_id, end_semester_id, team_id, position_id, deleted_team_name, is_team_leader, is_suspended FROM __temp__team_membership');
        $this->addSql('DROP TABLE __temp__team_membership');
        $this->addSql('CREATE INDEX IDX_B826A040A76ED395 ON team_membership (user_id)');
        $this->addSql('CREATE INDEX IDX_B826A040100E9BDB ON team_membership (start_semester_id)');
        $this->addSql('CREATE INDEX IDX_B826A04040776D10 ON team_membership (end_semester_id)');
        $this->addSql('CREATE INDEX IDX_B826A040296CD8AE ON team_membership (team_id)');
        $this->addSql('CREATE INDEX IDX_B826A040DD842E46 ON team_membership (position_id)');
        $this->addSql('DROP INDEX UNIQ_8D93D64924A232CF');
        $this->addSql('DROP INDEX UNIQ_8D93D649E7927C74');
        $this->addSql('DROP INDEX UNIQ_8D93D649A063DE11');
        $this->addSql('DROP INDEX IDX_8D93D6499E9C46D5');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user AS SELECT id, field_of_study_id, last_name, first_name, gender, picture_path, phone, account_number, user_name, password, email, company_email, is_active, reserved_from_pop_up, last_pop_up_time, new_user_code FROM user');
        $this->addSql('DROP TABLE user');
        $this->addSql('CREATE TABLE user (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, field_of_study_id INTEGER DEFAULT NULL, last_name VARCHAR(255) NOT NULL, first_name VARCHAR(255) NOT NULL, gender BOOLEAN NOT NULL, picture_path VARCHAR(255) NOT NULL, phone VARCHAR(255) NOT NULL, account_number VARCHAR(45) DEFAULT NULL, user_name VARCHAR(255) DEFAULT NULL, password VARCHAR(64) DEFAULT NULL, email VARCHAR(255) NOT NULL, company_email VARCHAR(255) DEFAULT NULL, is_active BOOLEAN NOT NULL, reserved_from_pop_up BOOLEAN NOT NULL, last_pop_up_time DATETIME NOT NULL, new_user_code VARCHAR(255) DEFAULT NULL)');
        $this->addSql('INSERT INTO user (id, field_of_study_id, last_name, first_name, gender, picture_path, phone, account_number, user_name, password, email, company_email, is_active, reserved_from_pop_up, last_pop_up_time, new_user_code) SELECT id, field_of_study_id, last_name, first_name, gender, picture_path, phone, account_number, user_name, password, email, company_email, is_active, reserved_from_pop_up, last_pop_up_time, new_user_code FROM __temp__user');
        $this->addSql('DROP TABLE __temp__user');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_8D93D64924A232CF ON user (user_name)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_8D93D649E7927C74 ON user (email)');
        $this->addSql('CREATE UNIQUE INDEX UNIQ_8D93D649A063DE11 ON user (company_email)');
        $this->addSql('CREATE INDEX IDX_8D93D6499E9C46D5 ON user (field_of_study_id)');
        $this->addSql('DROP INDEX IDX_9D930B062463F7CD');
        $this->addSql('DROP INDEX IDX_9D930B06AE80F5DF');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_department AS SELECT user_group_collection_id, department_id FROM user_group_collection_department');
        $this->addSql('DROP TABLE user_group_collection_department');
        $this->addSql('CREATE TABLE user_group_collection_department (user_group_collection_id INTEGER NOT NULL, department_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, department_id))');
        $this->addSql('INSERT INTO user_group_collection_department (user_group_collection_id, department_id) SELECT user_group_collection_id, department_id FROM __temp__user_group_collection_department');
        $this->addSql('DROP TABLE __temp__user_group_collection_department');
        $this->addSql('CREATE INDEX IDX_9D930B062463F7CD ON user_group_collection_department (user_group_collection_id)');
        $this->addSql('CREATE INDEX IDX_9D930B06AE80F5DF ON user_group_collection_department (department_id)');
        $this->addSql('DROP INDEX IDX_D23014B72463F7CD');
        $this->addSql('DROP INDEX IDX_D23014B74A798B6F');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_semester AS SELECT user_group_collection_id, semester_id FROM user_group_collection_semester');
        $this->addSql('DROP TABLE user_group_collection_semester');
        $this->addSql('CREATE TABLE user_group_collection_semester (user_group_collection_id INTEGER NOT NULL, semester_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, semester_id))');
        $this->addSql('INSERT INTO user_group_collection_semester (user_group_collection_id, semester_id) SELECT user_group_collection_id, semester_id FROM __temp__user_group_collection_semester');
        $this->addSql('DROP TABLE __temp__user_group_collection_semester');
        $this->addSql('CREATE INDEX IDX_D23014B72463F7CD ON user_group_collection_semester (user_group_collection_id)');
        $this->addSql('CREATE INDEX IDX_D23014B74A798B6F ON user_group_collection_semester (semester_id)');
        $this->addSql('DROP INDEX IDX_F0005A562463F7CD');
        $this->addSql('DROP INDEX IDX_F0005A56296CD8AE');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_team AS SELECT user_group_collection_id, team_id FROM user_group_collection_team');
        $this->addSql('DROP TABLE user_group_collection_team');
        $this->addSql('CREATE TABLE user_group_collection_team (user_group_collection_id INTEGER NOT NULL, team_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, team_id))');
        $this->addSql('INSERT INTO user_group_collection_team (user_group_collection_id, team_id) SELECT user_group_collection_id, team_id FROM __temp__user_group_collection_team');
        $this->addSql('DROP TABLE __temp__user_group_collection_team');
        $this->addSql('CREATE INDEX IDX_F0005A562463F7CD ON user_group_collection_team (user_group_collection_id)');
        $this->addSql('CREATE INDEX IDX_F0005A56296CD8AE ON user_group_collection_team (team_id)');
        $this->addSql('DROP INDEX IDX_B9732A002463F7CD');
        $this->addSql('DROP INDEX IDX_B9732A00A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_collection_user AS SELECT user_group_collection_id, user_id FROM user_group_collection_user');
        $this->addSql('DROP TABLE user_group_collection_user');
        $this->addSql('CREATE TABLE user_group_collection_user (user_group_collection_id INTEGER NOT NULL, user_id INTEGER NOT NULL, PRIMARY KEY(user_group_collection_id, user_id))');
        $this->addSql('INSERT INTO user_group_collection_user (user_group_collection_id, user_id) SELECT user_group_collection_id, user_id FROM __temp__user_group_collection_user');
        $this->addSql('DROP TABLE __temp__user_group_collection_user');
        $this->addSql('CREATE INDEX IDX_B9732A002463F7CD ON user_group_collection_user (user_group_collection_id)');
        $this->addSql('CREATE INDEX IDX_B9732A00A76ED395 ON user_group_collection_user (user_id)');
        $this->addSql('DROP INDEX IDX_3AE4BD51ED93D47');
        $this->addSql('DROP INDEX IDX_3AE4BD5A76ED395');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_group_user AS SELECT user_group_id, user_id FROM user_group_user');
        $this->addSql('DROP TABLE user_group_user');
        $this->addSql('CREATE TABLE user_group_user (user_group_id INTEGER NOT NULL, user_id INTEGER NOT NULL, PRIMARY KEY(user_group_id, user_id))');
        $this->addSql('INSERT INTO user_group_user (user_group_id, user_id) SELECT user_group_id, user_id FROM __temp__user_group_user');
        $this->addSql('DROP TABLE __temp__user_group_user');
        $this->addSql('CREATE INDEX IDX_3AE4BD51ED93D47 ON user_group_user (user_group_id)');
        $this->addSql('CREATE INDEX IDX_3AE4BD5A76ED395 ON user_group_user (user_id)');
        $this->addSql('DROP INDEX IDX_2DE8C6A3A76ED395');
        $this->addSql('DROP INDEX IDX_2DE8C6A3D60322AC');
        $this->addSql('CREATE TEMPORARY TABLE __temp__user_role AS SELECT user_id, role_id FROM user_role');
        $this->addSql('DROP TABLE user_role');
        $this->addSql('CREATE TABLE user_role (user_id INTEGER NOT NULL, role_id INTEGER NOT NULL, PRIMARY KEY(user_id, role_id))');
        $this->addSql('INSERT INTO user_role (user_id, role_id) SELECT user_id, role_id FROM __temp__user_role');
        $this->addSql('DROP TABLE __temp__user_role');
        $this->addSql('CREATE INDEX IDX_2DE8C6A3A76ED395 ON user_role (user_id)');
        $this->addSql('CREATE INDEX IDX_2DE8C6A3D60322AC ON user_role (role_id)');
        $this->addSql('DROP INDEX IDX_4A6478172463F7CD');
        $this->addSql('CREATE TEMPORARY TABLE __temp__usergroup AS SELECT id, user_group_collection_id, name, active FROM usergroup');
        $this->addSql('DROP TABLE usergroup');
        $this->addSql('CREATE TABLE usergroup (id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, user_group_collection_id INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL, active BOOLEAN NOT NULL)');
        $this->addSql('INSERT INTO usergroup (id, user_group_collection_id, name, active) SELECT id, user_group_collection_id, name, active FROM __temp__usergroup');
        $this->addSql('DROP TABLE __temp__usergroup');
        $this->addSql('CREATE INDEX IDX_4A6478172463F7CD ON usergroup (user_group_collection_id)');
    }
}
